(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function BS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function qS(){if(f_)return Re;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function H(O,J,he){this.props=O,this.context=J,this.refs=K,this.updater=he||M}H.prototype.isReactComponent={},H.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function te(O,J,he){this.props=O,this.context=J,this.refs=K,this.updater=he||M}var ee=te.prototype=new Y;ee.constructor=te,z(ee,H.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,ue={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function V(O,J,he,re,se,Ie){return he=Ie.ref,{$$typeof:r,type:O,key:J,ref:he!==void 0?he:null,props:Ie}}function w(O,J){return V(O.type,J,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return J[he]})}var P=/\/+/g;function U(O,J){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):J.toString(36)}function C(){}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,J,he,re,se){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case E:return we=O._init,ft(we(O._payload),J,he,re,se)}}if(we)return se=se(O),we=re===""?"."+U(O,0):re,pe(se)?(he="",we!=null&&(he=we.replace(P,"$&/")+"/"),ft(se,J,he,"",function(rt){return rt})):se!=null&&(S(se)&&(se=w(se,he+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(P,"$&/")+"/")+we)),J.push(se)),1;we=0;var dt=re===""?".":re+":";if(pe(O))for(var ze=0;ze<O.length;ze++)re=O[ze],Ie=dt+U(re,ze),we+=ft(re,J,he,Ie,se);else if(ze=D(O),typeof ze=="function")for(O=ze.call(O),ze=0;!(re=O.next()).done;)re=re.value,Ie=dt+U(re,ze++),we+=ft(re,J,he,Ie,se);else if(Ie==="object"){if(typeof O.then=="function")return ft(vt(O),J,he,re,se);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function ie(O,J,he){if(O==null)return O;var re=[],se=0;return ft(O,re,"","",function(Ie){return J.call(he,Ie,se++)}),re}function ye(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return Re.Children={map:ie,forEach:function(O,J,he){ie(O,function(){J.apply(this,arguments)},he)},count:function(O){var J=0;return ie(O,function(){J++}),J},toArray:function(O){return ie(O,function(J){return J})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=H,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,J,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=z({},O.props),se=O.key,Ie=void 0;if(J!=null)for(we in J.ref!==void 0&&(Ie=void 0),J.key!==void 0&&(se=""+J.key),J)!be.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(re[we]=J[we]);var we=arguments.length-2;if(we===1)re.children=he;else if(1<we){for(var dt=Array(we),ze=0;ze<we;ze++)dt[ze]=arguments[ze+2];re.children=dt}return V(O.type,se,void 0,void 0,Ie,re)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,J,he){var re,se={},Ie=null;if(J!=null)for(re in J.key!==void 0&&(Ie=""+J.key),J)be.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=J[re]);var we=arguments.length-2;if(we===1)se.children=he;else if(1<we){for(var dt=Array(we),ze=0;ze<we;ze++)dt[ze]=arguments[ze+2];se.children=dt}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)se[re]===void 0&&(se[re]=we[re]);return V(O,Ie,void 0,void 0,null,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=S,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ye}},Re.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Re.startTransition=function(O){var J=ue.T,he={};ue.T=he;try{var re=O(),se=ue.S;se!==null&&se(he,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,de)}catch(Ie){de(Ie)}finally{ue.T=J}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(O){return ue.H.use(O)},Re.useActionState=function(O,J,he){return ue.H.useActionState(O,J,he)},Re.useCallback=function(O,J){return ue.H.useCallback(O,J)},Re.useContext=function(O){return ue.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,J){return ue.H.useDeferredValue(O,J)},Re.useEffect=function(O,J){return ue.H.useEffect(O,J)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(O,J,he){return ue.H.useImperativeHandle(O,J,he)},Re.useInsertionEffect=function(O,J){return ue.H.useInsertionEffect(O,J)},Re.useLayoutEffect=function(O,J){return ue.H.useLayoutEffect(O,J)},Re.useMemo=function(O,J){return ue.H.useMemo(O,J)},Re.useOptimistic=function(O,J){return ue.H.useOptimistic(O,J)},Re.useReducer=function(O,J,he){return ue.H.useReducer(O,J,he)},Re.useRef=function(O){return ue.H.useRef(O)},Re.useState=function(O){return ue.H.useState(O)},Re.useSyncExternalStore=function(O,J,he){return ue.H.useSyncExternalStore(O,J,he)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.0.0",Re}var d_;function lm(){return d_||(d_=1,yd.exports=qS()),yd.exports}var G=lm();const _e=BS(G);var _d={exports:{}},fo={},vd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function HS(){return m_||(m_=1,function(r){function e(ie,ye){var de=ie.length;ie.push(ye);e:for(;0<de;){var je=de-1>>>1,O=ie[je];if(0<l(O,ye))ie[je]=ye,ie[de]=O,de=je;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ye=ie[0],de=ie.pop();if(de!==ye){ie[0]=de;e:for(var je=0,O=ie.length,J=O>>>1;je<J;){var he=2*(je+1)-1,re=ie[he],se=he+1,Ie=ie[se];if(0>l(re,de))se<O&&0>l(Ie,re)?(ie[je]=Ie,ie[se]=de,je=se):(ie[je]=re,ie[he]=de,je=he);else if(se<O&&0>l(Ie,de))ie[je]=Ie,ie[se]=de,je=se;else break e}}return ye}function l(ie,ye){var de=ie.sortIndex-ye.sortIndex;return de!==0?de:ie.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,D=3,M=!1,z=!1,K=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ee(ie){for(var ye=n(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=ie)s(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(y)}}function pe(ie){if(K=!1,ee(ie),!z)if(n(p)!==null)z=!0,vt();else{var ye=n(y);ye!==null&&ft(pe,ye.startTime-ie)}}var ue=!1,be=-1,V=5,w=-1;function S(){return!(r.unstable_now()-w<V)}function I(){if(ue){var ie=r.unstable_now();w=ie;var ye=!0;try{e:{z=!1,K&&(K=!1,Y(be),be=-1),M=!0;var de=D;try{t:{for(ee(ie),b=n(p);b!==null&&!(b.expirationTime>ie&&S());){var je=b.callback;if(typeof je=="function"){b.callback=null,D=b.priorityLevel;var O=je(b.expirationTime<=ie);if(ie=r.unstable_now(),typeof O=="function"){b.callback=O,ee(ie),ye=!0;break t}b===n(p)&&s(p),ee(ie)}else s(p);b=n(p)}if(b!==null)ye=!0;else{var J=n(y);J!==null&&ft(pe,J.startTime-ie),ye=!1}}break e}finally{b=null,D=de,M=!1}ye=void 0}}finally{ye?P():ue=!1}}}var P;if(typeof te=="function")P=function(){te(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,C=U.port2;U.port1.onmessage=I,P=function(){C.postMessage(null)}}else P=function(){H(I,0)};function vt(){ue||(ue=!0,P())}function ft(ie,ye){be=H(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){z||M||(z=!0,vt())},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ie){switch(D){case 1:case 2:case 3:var ye=3;break;default:ye=D}var de=D;D=ye;try{return ie()}finally{D=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=D;D=ie;try{return ye()}finally{D=de}},r.unstable_scheduleCallback=function(ie,ye,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,ie){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,ie={id:E++,callback:ye,priorityLevel:ie,startTime:de,expirationTime:O,sortIndex:-1},de>je?(ie.sortIndex=de,e(y,ie),n(p)===null&&ie===n(y)&&(K?(Y(be),be=-1):K=!0,ft(pe,de-je))):(ie.sortIndex=O,e(p,ie),z||M||(z=!0,vt())),ie},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ie){var ye=D;return function(){var de=D;D=ye;try{return ie.apply(this,arguments)}finally{D=de}}}}(Ed)),Ed}var p_;function jS(){return p_||(p_=1,vd.exports=HS()),vd.exports}var Td={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function FS(){if(g_)return Gt;g_=1;var r=lm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:D,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var y_;function GS(){if(y_)return Td.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Td.exports=FS(),Td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function QS(){if(__)return fo;__=1;var r=jS(),e=lm(),n=GS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:w(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return w(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,P,U;function C(t){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+t+U}var vt=!1;function ft(t,i){if(!t||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),k=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var Q=`
`+R[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?C(a):""}function ie(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=ie(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function je(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(de(t)!==t)throw Error(s(188))}function J(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===o)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var re=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},we=[],dt=-1;function ze(t){return{current:t}}function rt(t){0>dt||(t.current=we[dt],we[dt]=null,dt--)}function Qe(t,i){dt++,we[dt]=t.current,t.current=i}var Xt=ze(null),mi=ze(null),gn=ze(null),Ji=ze(null);function er(t,i){switch(Qe(gn,i),Qe(mi,t),Qe(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?qy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=qy(t),i=Hy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Xt),Qe(Xt,i)}function pi(){rt(Xt),rt(mi),rt(gn)}function ll(t){t.memoizedState!==null&&Qe(Ji,t);var i=Xt.current,a=Hy(i,t.type);i!==a&&(Qe(mi,t),Qe(Xt,a))}function Fs(t){mi.current===t&&(rt(Xt),rt(mi)),Ji.current===t&&(rt(Ji),lo._currentValue=Ie)}var Gs=Object.prototype.hasOwnProperty,es=r.unstable_scheduleCallback,Qs=r.unstable_cancelCallback,_h=r.unstable_shouldYield,ol=r.unstable_requestPaint,rn=r.unstable_now,Yo=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,$o=r.unstable_LowPriority,ul=r.unstable_IdlePriority,vh=r.log,ts=r.unstable_setDisableYieldValue,tr=null,jt=null;function cl(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(tr,t,void 0,(t.current.flags&128)===128)}catch{}}function Gn(t){if(typeof vh=="function"&&ts(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(tr,t)}catch{}}var Wt=Math.clz32?Math.clz32:Wo,hl=Math.log,Xo=Math.LN2;function Wo(t){return t>>>=0,t===0?32:31-(hl(t)/Xo|0)|0}var Qn=128,nr=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?o=Pn(a):(d&=T,d!==0?o=Pn(d):t||(v=T&~v,v!==0&&(o=Pn(v))))):(T=a&~h,T!==0?o=Pn(T):d!==0?o=Pn(d):t||(v=a&~v,v!==0&&(o=Pn(v)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function ir(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ks(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var t=Qn;return Qn<<=1,!(Qn&4194176)&&(Qn=128),t}function rr(){var t=nr;return nr<<=1,!(nr&62914560)&&(nr=4194304),t}function Ys(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ut(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zo(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Wt(a),Z=1<<Q;T[Q]=0,R[Q]=-1;var q=k[Q];if(q!==null)for(k[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~Z}o!==0&&sr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function ar(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Jo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function eu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function lr(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Kn,Tt="__reactProps$"+Kn,yi="__reactContainer$"+Kn,ns="__reactEvents$"+Kn,$s="__reactListeners$"+Kn,Yn="__reactHandles$"+Kn,dl="__reactResources$"+Kn,or="__reactMarker$"+Kn;function is(t){delete t[Dt],delete t[Tt],delete t[ns],delete t[$s],delete t[Yn]}function kn(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Gy(t);t!==null;){if(a=t[Dt])return a;t=Gy(t)}return i}t=a,a=t.parentNode}return null}function _i(t){if(t=t[Dt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cr(t){var i=t[dl];return i||(i=t[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[or]=!0}var ml=new Set,Xs={};function on(t,i){sn(t,i),sn(t+"Capture",i)}function sn(t,i){for(Xs[t]=i,t=0;t<i.length;t++)ml.add(i[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function tu(t){return Gs.call(gl,t)?!0:Gs.call(pl,t)?!1:Eh.test(t)?gl[t]=!0:(pl[t]=!0,!1)}function hr(t,i,a){if(tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function _n(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Th(t){var i=nu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rs(t){t._valueTracker||(t._valueTracker=Th(t))}function yl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=nu(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vi=/[\n"\\]/g;function st(t){return t.replace(vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,v,Zt(i)):a!=null?Zs(t,v,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function ss(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zs(t,i,a){i==="number"&&Ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function as(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function mr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function vn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Ah.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function iu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&_l(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&_l(t,d,i[d])}function vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(t){return bh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var En=null;function Js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function Ai(t){var i=_i(t);if(i&&(t=i.stateNode)){var a=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Tt]||null;if(!h)throw Error(s(90));dr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&yl(o)}break e;case"textarea":as(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var El=!1;function ru(t,i,a){if(El)return t(i,a);El=!0;try{var o=t(i);return o}finally{if(El=!1,(Ei!==null||Ti!==null)&&($u(),Ei&&(i=Ei,t=Ti,Ti=Ei=null,Ai(i),t)))for(i=0;i<t.length;i++)Ai(t[i])}}function ls(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Tt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Tn=!1;if(un)try{var os={};Object.defineProperty(os,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Tn=!1}var Xn=null,pr=null,Si=null;function Tl(){if(Si)return Si;var t,i=pr,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Si=h.slice(t,1<o?1-o:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Al(){return!1}function Ot(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Al,this.isPropagationStopped=Al,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ot(Fe),us=I({},Fe,{view:0,detail:0}),su=Ot(us),ta,na,Jn,cs=I({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(ta=t.screenX-Jn.screenX,na=t.screenY-Jn.screenY):na=ta=0,Jn=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),An=Ot(cs),au=I({},cs,{dataTransfer:0}),wh=Ot(au),hs=I({},us,{relatedTarget:0}),ia=Ot(hs),Sl=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Ot(Sl),lu=I({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=Ot(lu),Rh=I({},Fe,{data:0}),bl=Ot(Rh),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=uu[t])?!!i[t]:!1}function ds(){return wl}var cu=I({},us,{key:function(t){if(t.key){var i=fs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=Ot(cu),hu=I({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ot(hu),bi=I({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),fu=Ot(bi),du=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Ot(du),pu=I({},cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Ot(pu),Jt=I({},Fe,{newState:0,oldState:0}),gu=Ot(Jt),yu=[9,13,27,32],ei=un&&"CompositionEvent"in window,c=null;un&&"documentMode"in document&&(c=document.documentMode);var g=un&&"TextEvent"in window&&!c,_=un&&(!ei||c&&8<c&&11>=c),A=" ",x=!1;function j(t,i){switch(t){case"keyup":return yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function At(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(x=!0,A);case"textInput":return t=i.data,t===A&&x?null:t;default:return null}}function Le(t,i){if(ke)return t==="compositionend"||!ei&&j(t,i)?(t=Tl(),Si=pr=Xn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function wi(t,i,a,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,i=ec(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Lt=null,ti=null;function Il(t){Ly(t,0)}function _u(t){var i=ur(t);if(yl(i))return t}function hp(t,i){if(t==="change")return i}var fp=!1;if(un){var Ih;if(un){var Ch="oninput"in document;if(!Ch){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Ch=typeof dp.oninput=="function"}Ih=Ch}else Ih=!1;fp=Ih&&(!document.documentMode||9<document.documentMode)}function mp(){Lt&&(Lt.detachEvent("onpropertychange",pp),ti=Lt=null)}function pp(t){if(t.propertyName==="value"&&_u(ti)){var i=[];wi(i,ti,t,Js(t)),ru(Il,i)}}function gA(t,i,a){t==="focusin"?(mp(),Lt=i,ti=a,Lt.attachEvent("onpropertychange",pp)):t==="focusout"&&mp()}function yA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(ti)}function _A(t,i){if(t==="click")return _u(i)}function vA(t,i){if(t==="input"||t==="change")return _u(i)}function EA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:EA;function Cl(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Gs.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,i){var a=gp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gp(a)}}function _p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ws(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ws(t.document)}return i}function Dh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function TA(t,i){var a=vp(i);i=t.focusedElem;var o=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&_p(i.ownerDocument.documentElement,i)){if(o!==null&&Dh(i)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=yp(i,d);var v=yp(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var AA=un&&"documentMode"in document&&11>=document.documentMode,oa=null,Oh=null,Dl=null,Nh=!1;function Ep(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||oa==null||oa!==Ws(o)||(o=oa,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Dl&&Cl(Dl,o)||(Dl=o,o=ec(Oh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=oa)))}function ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ua={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Vh={},Tp={};un&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ps(t){if(Vh[t])return Vh[t];if(!ua[t])return t;var i=ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tp)return Vh[t]=i[a];return t}var Ap=ps("animationend"),Sp=ps("animationiteration"),bp=ps("animationstart"),SA=ps("transitionrun"),bA=ps("transitionstart"),wA=ps("transitioncancel"),wp=ps("transitionend"),Rp=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,i){Rp.set(t,i),on(i,[t])}var Sn=[],ca=0,Mh=0;function vu(){for(var t=ca,i=Mh=ca=0;i<t;){var a=Sn[i];Sn[i++]=null;var o=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Cp(a,h,d)}}function Eu(t,i,a,o){Sn[ca++]=t,Sn[ca++]=i,Sn[ca++]=a,Sn[ca++]=o,Mh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ph(t,i,a,o){return Eu(t,i,a,o),Tu(t)}function gr(t,i){return Eu(t,null,null,i),Tu(t)}function Cp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Wt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Tu(t){if(50<eo)throw eo=0,qf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={},Dp=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=Dp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ye(i)},Dp.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var fa=[],da=0,Au=null,Su=0,wn=[],Rn=0,gs=null,Ri=1,Ii="";function ys(t,i){fa[da++]=Su,fa[da++]=Au,Au=t,Su=i}function Op(t,i,a){wn[Rn++]=Ri,wn[Rn++]=Ii,wn[Rn++]=gs,gs=t;var o=Ri;t=Ii;var h=32-Wt(o)-1;o&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ri=1<<32-Wt(i)+h|a<<h|o,Ii=d+t}else Ri=1<<d|a<<h|o,Ii=t}function kh(t){t.return!==null&&(ys(t,1),Op(t,1,0))}function Lh(t){for(;t===Au;)Au=fa[--da],fa[da]=null,Su=fa[--da],fa[da]=null;for(;t===gs;)gs=wn[--Rn],wn[Rn]=null,Ii=wn[--Rn],wn[Rn]=null,Ri=wn[--Rn],wn[Rn]=null}var en=null,xt=null,qe=!1,xn=null,ni=!1,xh=Error(s(519));function _s(t){var i=Error(s(418,""));throw Vl(bn(i,t)),xh}function Np(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[Tt]=o,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<no.length;a++)Me(no[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ss(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),rs(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),mr(i,o.value,o.defaultValue,o.children),rs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||By(i.textContent,a)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=tc),i=!0):i=!1,i||_s(t)}function Vp(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:en=en.return}}function Ol(t){if(t!==en)return!1;if(!qe)return Vp(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&xt&&_s(t),Vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){xt=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}xt=null}}else xt=en?zn(t.stateNode.nextSibling):null;return!0}function Nl(){xt=en=null,qe=!1}function Vl(t){xn===null?xn=[t]:xn.push(t)}var Ml=Error(s(460)),Mp=Error(s(474)),Uh={then:function(){}};function Pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bu(){}function kp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(bu,bu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ml?Error(s(483)):t;default:if(typeof i.status=="string")i.then(bu,bu);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ml?Error(s(483)):t}throw Pl=i,Ml}}var Pl=null;function Lp(){if(Pl===null)throw Error(s(459));var t=Pl;return Pl=null,t}var ma=null,kl=0;function wu(t){var i=kl;return kl+=1,ma===null&&(ma=[]),kp(ma,t,i)}function Ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ru(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function xp(t){var i=t._init;return i(t._payload)}function Up(t){function i(L,N){if(t){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function a(L,N){if(!t)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function o(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=Cr(L,N),L.index=0,L.sibling=null,L}function d(L,N,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=33554434,N):B):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function T(L,N,B,$){return N===null||N.tag!==6?(N=Mf(B,L.mode,$),N.return=L,N):(N=h(N,B),N.return=L,N)}function R(L,N,B,$){var le=B.type;return le===p?Q(L,N,B.props.children,$,B.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&xp(le)===N.type)?(N=h(N,B.props),Ll(N,B),N.return=L,N):(N=Fu(B.type,B.key,B.props,null,L.mode,$),Ll(N,B),N.return=L,N)}function k(L,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Pf(B,L.mode,$),N.return=L,N):(N=h(N,B.children||[]),N.return=L,N)}function Q(L,N,B,$,le){return N===null||N.tag!==7?(N=Cs(B,L.mode,$,le),N.return=L,N):(N=h(N,B),N.return=L,N)}function Z(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mf(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return B=Fu(N.type,N.key,N.props,null,L.mode,B),Ll(B,N),B.return=L,B;case m:return N=Pf(N,L.mode,B),N.return=L,N;case te:var $=N._init;return N=$(N._payload),Z(L,N,B)}if(re(N)||be(N))return N=Cs(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return Z(L,wu(N),B);if(N.$$typeof===M)return Z(L,qu(L,N),B);Ru(L,N)}return null}function q(L,N,B,$){var le=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:T(L,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?R(L,N,B,$):null;case m:return B.key===le?k(L,N,B,$):null;case te:return le=B._init,B=le(B._payload),q(L,N,B,$)}if(re(B)||be(B))return le!==null?null:Q(L,N,B,$,null);if(typeof B.then=="function")return q(L,N,wu(B),$);if(B.$$typeof===M)return q(L,N,qu(L,B),$);Ru(L,B)}return null}function F(L,N,B,$,le){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(B)||null,T(N,L,""+$,le);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return L=L.get($.key===null?B:$.key)||null,R(N,L,$,le);case m:return L=L.get($.key===null?B:$.key)||null,k(N,L,$,le);case te:var De=$._init;return $=De($._payload),F(L,N,B,$,le)}if(re($)||be($))return L=L.get(B)||null,Q(N,L,$,le,null);if(typeof $.then=="function")return F(L,N,B,wu($),le);if($.$$typeof===M)return F(L,N,B,qu(N,$),le);Ru(N,$)}return null}function ce(L,N,B,$){for(var le=null,De=null,fe=N,ge=N=0,Pt=null;fe!==null&&ge<B.length;ge++){fe.index>ge?(Pt=fe,fe=null):Pt=fe.sibling;var He=q(L,fe,B[ge],$);if(He===null){fe===null&&(fe=Pt);break}t&&fe&&He.alternate===null&&i(L,fe),N=d(He,N,ge),De===null?le=He:De.sibling=He,De=He,fe=Pt}if(ge===B.length)return a(L,fe),qe&&ys(L,ge),le;if(fe===null){for(;ge<B.length;ge++)fe=Z(L,B[ge],$),fe!==null&&(N=d(fe,N,ge),De===null?le=fe:De.sibling=fe,De=fe);return qe&&ys(L,ge),le}for(fe=o(fe);ge<B.length;ge++)Pt=F(fe,L,ge,B[ge],$),Pt!==null&&(t&&Pt.alternate!==null&&fe.delete(Pt.key===null?ge:Pt.key),N=d(Pt,N,ge),De===null?le=Pt:De.sibling=Pt,De=Pt);return t&&fe.forEach(function(kr){return i(L,kr)}),qe&&ys(L,ge),le}function Ae(L,N,B,$){if(B==null)throw Error(s(151));for(var le=null,De=null,fe=N,ge=N=0,Pt=null,He=B.next();fe!==null&&!He.done;ge++,He=B.next()){fe.index>ge?(Pt=fe,fe=null):Pt=fe.sibling;var kr=q(L,fe,He.value,$);if(kr===null){fe===null&&(fe=Pt);break}t&&fe&&kr.alternate===null&&i(L,fe),N=d(kr,N,ge),De===null?le=kr:De.sibling=kr,De=kr,fe=Pt}if(He.done)return a(L,fe),qe&&ys(L,ge),le;if(fe===null){for(;!He.done;ge++,He=B.next())He=Z(L,He.value,$),He!==null&&(N=d(He,N,ge),De===null?le=He:De.sibling=He,De=He);return qe&&ys(L,ge),le}for(fe=o(fe);!He.done;ge++,He=B.next())He=F(fe,L,ge,He.value,$),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?ge:He.key),N=d(He,N,ge),De===null?le=He:De.sibling=He,De=He);return t&&fe.forEach(function(zS){return i(L,zS)}),qe&&ys(L,ge),le}function ot(L,N,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;N!==null;){if(N.key===le){if(le=B.type,le===p){if(N.tag===7){a(L,N.sibling),$=h(N,B.props.children),$.return=L,L=$;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&xp(le)===N.type){a(L,N.sibling),$=h(N,B.props),Ll($,B),$.return=L,L=$;break e}a(L,N);break}else i(L,N);N=N.sibling}B.type===p?($=Cs(B.props.children,L.mode,$,B.key),$.return=L,L=$):($=Fu(B.type,B.key,B.props,null,L.mode,$),Ll($,B),$.return=L,L=$)}return v(L);case m:e:{for(le=B.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(L,N.sibling),$=h(N,B.children||[]),$.return=L,L=$;break e}else{a(L,N);break}else i(L,N);N=N.sibling}$=Pf(B,L.mode,$),$.return=L,L=$}return v(L);case te:return le=B._init,B=le(B._payload),ot(L,N,B,$)}if(re(B))return ce(L,N,B,$);if(be(B)){if(le=be(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Ae(L,N,B,$)}if(typeof B.then=="function")return ot(L,N,wu(B),$);if(B.$$typeof===M)return ot(L,N,qu(L,B),$);Ru(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(L,N.sibling),$=h(N,B),$.return=L,L=$):(a(L,N),$=Mf(B,L.mode,$),$.return=L,L=$),v(L)):a(L,N)}return function(L,N,B,$){try{kl=0;var le=ot(L,N,B,$);return ma=null,le}catch(fe){if(fe===Ml)throw fe;var De=On(29,fe,null,L.mode);return De.lanes=$,De.return=L,De}finally{}}}var vs=Up(!0),zp=Up(!1),pa=ze(null),Iu=ze(0);function Bp(t,i){t=Ui,Qe(Iu,t),Qe(pa,i),Ui=t|i.baseLanes}function zh(){Qe(Iu,Ui),Qe(pa,pa.current)}function Bh(){Ui=Iu.current,rt(pa),rt(Iu)}var In=ze(null),ii=null;function yr(t){var i=t.alternate;Qe(bt,bt.current&1),Qe(In,t),ii===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ii=t)}function qp(t){if(t.tag===22){if(Qe(bt,bt.current),Qe(In,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else _r()}function _r(){Qe(bt,bt.current),Qe(In,In.current)}function Ci(t){rt(In),ii===t&&(ii=null),rt(bt)}var bt=ze(0);function Cu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var RA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},IA=r.unstable_scheduleCallback,CA=r.unstable_NormalPriority,wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new RA,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&IA(CA,function(){t.controller.abort()})}var Ul=null,Hh=0,ga=0,ya=null;function DA(t,i){if(Ul===null){var a=Ul=[];Hh=0,ga=$f(),ya={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Hh++,i.then(Hp,Hp),i}function Hp(){if(--Hh===0&&Ul!==null){ya!==null&&(ya.status="fulfilled");var t=Ul;Ul=null,ga=0,ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function OA(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var jp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&DA(t,i),jp!==null&&jp(t,i)};var Es=ze(null);function jh(){var t=Es.current;return t!==null?t:Xe.pooledCache}function Du(t,i){i===null?Qe(Es,Es.current):Qe(Es,i.pool)}function Fp(){var t=jh();return t===null?null:{parent:wt._currentValue,pool:t}}var vr=0,Ce=null,Ke=null,mt=null,Ou=!1,_a=!1,Ts=!1,Nu=0,zl=0,va=null,NA=0;function ct(){throw Error(s(321))}function Fh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function Gh(t,i,a,o,h,d){return vr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?As:Er,Ts=!1,d=a(o,h),Ts=!1,_a&&(d=Qp(i,a,o,h)),Gp(t),d}function Gp(t){S.H=ri;var i=Ke!==null&&Ke.next!==null;if(vr=0,mt=Ke=Ce=null,Ou=!1,zl=0,va=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Bu(t)&&(Vt=!0))}function Qp(t,i,a,o){Ce=t;var h=0;do{if(_a&&(va=null),zl=0,_a=!1,25<=h)throw Error(s(301));if(h+=1,mt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ss,d=i(a,o)}while(_a);return d}function VA(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Qh(){var t=Nu!==0;return Nu=0,t}function Kh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yh(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}vr=0,mt=Ke=Ce=null,_a=!1,zl=Nu=0,va=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=mt===null?Ce.memoizedState:mt.next;if(i!==null)mt=i,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},mt===null?Ce.memoizedState=mt=t:mt=mt.next=t}return mt}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bl(t){var i=zl;return zl+=1,va===null&&(va=[]),t=kp(va,t,i),i=Ce,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?As:Er),t}function Mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===M)return Ft(t)}throw Error(s(438,String(t)))}function $h(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=pe;return i.index++,a}function Di(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=pt();return Xh(i,Ke,t)}function Xh(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,k=i,Q=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(xe&Z)===Z:(vr&Z)===Z){var q=k.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===ga&&(Q=!0);else if((vr&q)===q){k=k.next,q===ga&&(Q=!0);continue}else Z={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(T=R=Z,v=d):R=R.next=Z,Ce.lanes|=q,Dr|=q;Z=k.action,Ts&&a(d,Z),d=k.hasEagerState?k.eagerState:a(d,Z)}else q={lane:Z,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(T=R=q,v=d):R=R.next=q,Ce.lanes|=Z,Dr|=Z;k=k.next}while(k!==null&&k!==i);if(R===null?v=d:R.next=T,!cn(d,t.memoizedState)&&(Vt=!0,Q&&(a=ya,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Wh(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Kp(t,i,a){var o=Ce,h=pt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Vt=!0),h=h.queue,ef(Xp.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Ea(9,$p.bind(null,o,h,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||vr&60||Yp(o,i,a)}return a}function Yp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Vu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $p(t,i,a,o){i.value=a,i.getSnapshot=o,Wp(i)&&Zp(t)}function Xp(t,i,a){return a(function(){Wp(i)&&Zp(t)})}function Wp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function Zp(t){var i=gr(t,2);i!==null&&tn(i,t,2)}function Zh(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Ts){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},i}function Jp(t,i,a,o){return t.baseState=a,Xh(t,Ke,typeof o=="function"?o:Di)}function MA(t,i,a,o,h){if(xu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function eg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,o),R=S.S;R!==null&&R(v,T),tg(t,i,T)}catch(k){Jh(t,i,k)}finally{S.T=d}}else try{d=a(h,o),tg(t,i,d)}catch(k){Jh(t,i,k)}}function tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ng(t,i,o)},function(o){return Jh(t,i,o)}):ng(t,i,a)}function ng(t,i,a){i.status="fulfilled",i.value=a,ig(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,eg(t,a)))}function Jh(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,ig(i),i=i.next;while(i!==o)}t.action=null}function ig(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rg(t,i){return i}function sg(t,i){if(qe){var a=Xe.formState;if(a!==null){e:{var o=Ce;if(qe){if(xt){t:{for(var h=xt,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=zn(h.nextSibling),o=h.data==="F!";break e}}_s(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:i},a.queue=o,a=Sg.bind(null,Ce,o),o.dispatch=a,o=Zh(!1),d=af.bind(null,Ce,!1,o.queue),o=an(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=MA.bind(null,Ce,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function ag(t){var i=pt();return lg(i,Ke,t)}function lg(t,i,a){i=Xh(t,i,rg)[0],t=Pu(Di)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bl(i):i;var o=pt(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(Ce.flags|=2048,Ea(9,PA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function PA(t,i){t.action=i}function og(t){var i=pt(),a=Ke;if(a!==null)return lg(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ea(t,i,a,o){return t={tag:t,create:i,inst:a,deps:o,next:null},i=Ce.updateQueue,i===null&&(i=Vu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function ug(){return pt().memoizedState}function ku(t,i,a,o){var h=an();Ce.flags|=t,h.memoizedState=Ea(1|i,a,{destroy:void 0},o===void 0?null:o)}function Lu(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ke!==null&&o!==null&&Fh(o,Ke.memoizedState.deps)?h.memoizedState=Ea(i,a,d,o):(Ce.flags|=t,h.memoizedState=Ea(1|i,a,d,o))}function cg(t,i){ku(8390656,8,t,i)}function ef(t,i){Lu(2048,8,t,i)}function hg(t,i){return Lu(4,2,t,i)}function fg(t,i){return Lu(4,4,t,i)}function dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function mg(t,i,a){a=a!=null?a.concat([t]):null,Lu(4,4,dg.bind(null,i,t),a)}function tf(){}function pg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Fh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function gg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Fh(i,o[1]))return o[0];if(o=t(),Ts){Gn(!0);try{t()}finally{Gn(!1)}}return a.memoizedState=[o,i],o}function nf(t,i,a){return a===void 0||vr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=_y(),Ce.lanes|=t,Dr|=t,a)}function yg(t,i,a,o){return cn(a,i)?a:pa.current!==null?(t=nf(t,a,o),cn(t,i)||(Vt=!0),t):vr&42?(t=_y(),Ce.lanes|=t,Dr|=t,i):(Vt=!0,t.memoizedState=a)}function _g(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,af(t,!1,i,a);try{var R=h(),k=S.S;if(k!==null&&k(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=OA(R,o);ql(t,i,Q,mn(t))}else ql(t,i,o,mn(t))}catch(Z){ql(t,i,{then:function(){},status:"rejected",reason:Z},mn())}finally{se.p=d,S.T=v}}function kA(){}function rf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=vg(t).queue;_g(t,h,i,Ie,a===null?kA:function(){return Eg(t),a(o)})}function vg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Eg(t){var i=vg(t).next.queue;ql(t,i,{},mn())}function sf(){return Ft(lo)}function Tg(){return pt().memoizedState}function Ag(){return pt().memoizedState}function LA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();t=Sr(a);var o=br(i,t,a);o!==null&&(tn(o,i,a),Fl(o,i,a)),i={cache:qh()},t.payload=i;return}i=i.return}}function xA(t,i,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?bg(i,a):(a=Ph(t,i,a,o),a!==null&&(tn(a,t,o),wg(a,i,o)))}function Sg(t,i,a){var o=mn();ql(t,i,a,o)}function ql(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))bg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return Eu(t,i,h,0),Xe===null&&vu(),!1}catch{}finally{}if(a=Ph(t,i,h,o),a!==null)return tn(a,t,o),wg(a,i,o),!0}return!1}function af(t,i,a,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(i)throw Error(s(479))}else i=Ph(t,a,o,2),i!==null&&tn(i,t,2)}function xu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function bg(t,i){_a=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wg(t,i,a){if(a&4194176){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}var ri={readContext:Ft,use:Mu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};ri.useCacheRefresh=ct,ri.useMemoCache=ct,ri.useHostTransitionStatus=ct,ri.useFormState=ct,ri.useActionState=ct,ri.useOptimistic=ct;var As={readContext:Ft,use:Mu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:cg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ku(4194308,4,dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ku(4194308,4,t,i)},useInsertionEffect:function(t,i){ku(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var o=t();if(Ts){Gn(!0);try{t()}finally{Gn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=an();if(a!==void 0){var h=a(i);if(Ts){Gn(!0);try{a(i)}finally{Gn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=xA.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Zh(t);var i=t.queue,a=Sg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(t,i){var a=an();return nf(a,t,i)},useTransition:function(){var t=Zh(!1);return t=_g.bind(null,Ce,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ce,h=an();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));xe&60||Yp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cg(Xp.bind(null,o,d,t),[t]),o.flags|=2048,Ea(9,$p.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var t=an(),i=Xe.identifierPrefix;if(qe){var a=Ii,o=Ri;a=(o&~(1<<32-Wt(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=NA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=LA.bind(null,Ce)}};As.useMemoCache=$h,As.useHostTransitionStatus=sf,As.useFormState=sg,As.useActionState=sg,As.useOptimistic=function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=af.bind(null,Ce,!0,a),a.dispatch=i,[t,i]};var Er={readContext:Ft,use:Mu,useCallback:pg,useContext:Ft,useEffect:ef,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:Pu,useRef:ug,useState:function(){return Pu(Di)},useDebugValue:tf,useDeferredValue:function(t,i){var a=pt();return yg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Pu(Di)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Kp,useId:Tg};Er.useCacheRefresh=Ag,Er.useMemoCache=$h,Er.useHostTransitionStatus=sf,Er.useFormState=ag,Er.useActionState=ag,Er.useOptimistic=function(t,i){var a=pt();return Jp(a,Ke,t,i)};var Ss={readContext:Ft,use:Mu,useCallback:pg,useContext:Ft,useEffect:ef,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:Wh,useRef:ug,useState:function(){return Wh(Di)},useDebugValue:tf,useDeferredValue:function(t,i){var a=pt();return Ke===null?nf(a,t,i):yg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Wh(Di)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Kp,useId:Tg};Ss.useCacheRefresh=Ag,Ss.useMemoCache=$h,Ss.useHostTransitionStatus=sf,Ss.useFormState=og,Ss.useActionState=og,Ss.useOptimistic=function(t,i){var a=pt();return Ke!==null?Jp(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function lf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var of={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var o=mn(),h=Sr(o);h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),Fl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=mn(),h=Sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),Fl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=mn(),o=Sr(a);o.tag=2,i!=null&&(o.callback=i),i=br(t,o,a),i!==null&&(tn(i,t,a),Fl(i,t,a))}};function Rg(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Cl(a,o)||!Cl(h,d):!0}function Ig(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&of.enqueueReplaceState(i,i.state,null)}function bs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cg(t){Uu(t)}function Dg(t){console.error(t)}function Og(t){Uu(t)}function zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function uf(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(t,i)},a}function Vg(t){return t=Sr(t),t.tag=3,t}function Mg(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Ng(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ng(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function UA(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&jl(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ii===null?Ff():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Qf(t,o,h)),!1;case 22:return a.flags|=65536,o===Uh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Qf(t,o,h)),!1}throw Error(s(435,a.tag))}return Qf(t,o,h),Ff(),!1}if(qe)return i=In.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==xh&&(t=Error(s(422),{cause:o}),Vl(bn(t,a)))):(o!==xh&&(i=Error(s(423),{cause:o}),Vl(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=bn(o,a),h=uf(t.stateNode,o,h),bf(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:o});if(d=bn(d,a),Zl===null?Zl=[d]:Zl.push(d),lt!==4&&(lt=2),i===null)return!0;o=bn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=uf(a.stateNode,o,t),bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vg(h),Mg(h,t,a,o),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Pg=Error(s(461)),Vt=!1;function Ut(t,i,a,o){i.child=t===null?zp(i,null,a,o):vs(i,t.child,a,o)}function kg(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Rs(i),o=Gh(t,i,a,v,d,h),T=Qh(),t!==null&&!Vt?(Kh(t,i,h),Oi(t,i,h)):(qe&&T&&kh(i),i.flags|=1,Ut(t,i,o,h),i.child)}function Lg(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xg(t,i,d,o,h)):(t=Fu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_f(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(v,o)&&t.ref===i.ref)return Oi(t,i,h)}return i.flags|=1,t=Cr(d,o),t.ref=i.ref,t.return=i,i.child=t}function xg(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Cl(d,o)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=o=d,_f(t,h))t.flags&131072&&(Vt=!0);else return i.lanes=t.lanes,Oi(t,i,h)}return cf(t,i,a,o,h)}function Ug(t,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Hl(t,i),o.mode==="hidden"||d){if(i.flags&128){if(o=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return zg(t,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(i,v!==null?v.cachePool:null),v!==null?Bp(i,v):zh(),qp(i);else return i.lanes=i.childLanes=536870912,zg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Du(i,v.cachePool),Bp(i,v),_r(),i.memoizedState=null):(t!==null&&Du(i,null),zh(),_r());return Ut(t,i,h,a),i.child}function zg(t,i,a,o){var h=jh();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Du(i,null),zh(),qp(i),t!==null&&jl(t,i,o,!0),null}function Hl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function cf(t,i,a,o,h){return Rs(i),a=Gh(t,i,a,o,void 0,h),o=Qh(),t!==null&&!Vt?(Kh(t,i,h),Oi(t,i,h)):(qe&&o&&kh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function Bg(t,i,a,o,h,d){return Rs(i),i.updateQueue=null,a=Qp(i,o,a,h),Gp(t),o=Qh(),t!==null&&!Vt?(Kh(t,i,d),Oi(t,i,d)):(qe&&o&&kh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function qg(t,i,a,o,h){if(Rs(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=of,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Af(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&of.enqueueReplaceState(d,d.state,null),Ql(i,o,d,h),Gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=bs(a,T);d.props=R;var k=d.context,Q=a.contextType;v=ha,typeof Q=="object"&&Q!==null&&(v=Ft(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&Ig(i,d,o,v),Ar=!1;var q=i.memoizedState;d.state=q,Ql(i,o,d,h),Gl(),k=i.memoizedState,T||q!==k||Ar?(typeof Z=="function"&&(lf(i,a,Z,o),k=i.memoizedState),(R=Ar||Rg(i,a,R,o,q,k,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Sf(t,i),v=i.memoizedProps,Q=bs(a,v),d.props=Q,Z=i.pendingProps,q=d.context,k=a.contextType,R=ha,typeof k=="object"&&k!==null&&(R=Ft(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==R)&&Ig(i,d,o,R),Ar=!1,q=i.memoizedState,d.state=q,Ql(i,o,d,h),Gl();var F=i.memoizedState;v!==Z||q!==F||Ar||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof T=="function"&&(lf(i,a,T,o),F=i.memoizedState),(Q=Ar||Rg(i,a,Q,o,q,F,R)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),d.props=o,d.state=F,d.context=R,o=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Hl(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=vs(i,t.child,null,h),i.child=vs(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Oi(t,i,h),t}function Hg(t,i,a,o){return Nl(),i.flags|=256,Ut(t,i,a,o),i.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(t){return{baseLanes:t,cachePool:Fp()}}function df(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function jg(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?yr(i):_r(),qe){var T=xt,R;if(R=T){e:{for(R=T,T=ni;R.nodeType!==8;){if(!T){T=null;break e}if(R=zn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:gs!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912},R=On(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,xt=null,R=!0):R=!1}R||_s(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ci(i)}return T=o.children,o=o.fallback,h?(_r(),h=i.mode,T=pf({mode:"hidden",children:T},h),o=Cs(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=ff(a),h.childLanes=df(t,v,a),i.memoizedState=hf,o):(yr(i),mf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=gf(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=o.fallback,T=i.mode,o=pf({mode:"visible",children:o.children},T),h=Cs(h,T,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,vs(i,t.child,null,a),o=i.child,o.memoizedState=ff(a),o.childLanes=df(t,v,a),i.memoizedState=hf,i=h);else if(yr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(s(419)),o.stack="",o.digest=v,Vl({value:o,source:null,stack:null}),i=gf(t,i,a)}else if(Vt||jl(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=Xe,v!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(v.suspendedLanes|a)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,gr(t,o),tn(v,t,o),Pg}T.data==="$?"||Ff(),i=gf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=JA.bind(null,t),T._reactRetry=i,i=null):(t=R.treeContext,xt=zn(T.nextSibling),en=i,qe=!0,xn=null,ni=!1,t!==null&&(wn[Rn++]=Ri,wn[Rn++]=Ii,wn[Rn++]=gs,Ri=t.id,Ii=t.overflow,gs=i),i=mf(i,o.children),i.flags|=4096);return i}return h?(_r(),h=o.fallback,T=i.mode,R=t.child,k=R.sibling,o=Cr(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,k!==null?h=Cr(k,h):(h=Cs(h,T,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=t.child.memoizedState,T===null?T=ff(a):(R=T.cachePool,R!==null?(k=wt._currentValue,R=R.parent!==k?{parent:k,pool:k}:R):R=Fp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=df(t,v,a),i.memoizedState=hf,o):(yr(i),a=t.child,t=a.sibling,a=Cr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function mf(t,i){return i=pf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pf(t,i){return py(t,i,0,null)}function gf(t,i,a){return vs(i,t.child,null,a),t=mf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fg(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Ef(t.return,i,a)}function yf(t,i,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Gg(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Ut(t,i,o.children,a),o=bt.current,o&2)o=o&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,i);else if(t.tag===19)Fg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Qe(bt,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Cu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Cu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yf(i,!0,a,null,d);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,!(a&i.childLanes))if(t!==null){if(jl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Cr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Cr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _f(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function zA(t,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Tr(i,wt,t.memoizedState.cache),Nl();break;case 27:case 5:ll(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(yr(i),i.flags|=128,null):a&i.child.childLanes?jg(t,i,a):(yr(i),t=Oi(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(jl(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Gg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(bt,bt.current),o)break;return null;case 22:case 23:return i.lanes=0,Ug(t,i,a);case 24:Tr(i,wt,t.memoizedState.cache)}return Oi(t,i,a)}function Qg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!_f(t,a)&&!(i.flags&128))return Vt=!1,zA(t,i,a);Vt=!!(t.flags&131072)}else Vt=!1,qe&&i.flags&1048576&&Op(i,Su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Vf(o)?(t=bs(o,t),i.tag=1,i=qg(null,i,o,t,a)):(i.tag=0,i=cf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===z){i.tag=11,i=kg(null,i,o,t,a);break e}else if(h===Y){i.tag=14,i=Lg(null,i,o,t,a);break e}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return cf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=bs(o,i.pendingProps),qg(t,i,o,h,a);case 3:e:{if(er(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,Sf(t,i),Ql(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Tr(i,wt,d),d!==h.cache&&Tf(i,[wt],a,!0),Gl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Hg(t,i,d,a);break e}else if(d!==o){o=bn(Error(s(424)),i),Vl(o),i=Hg(t,i,d,a);break e}else for(xt=zn(i.stateNode.containerInfo.firstChild),en=i,qe=!0,xn=null,ni=!0,a=zp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nl(),d===o){i=Oi(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return Hl(t,i),t===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,o=nc(gn.current).createElement(a),o[Dt]=i,o[Tt]=t,zt(o,a,t),et(o),i.stateNode=o):i.memoizedState=$y(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ll(i),t===null&&qe&&(o=i.stateNode=Qy(i.type,i.pendingProps,gn.current),en=i,ni=!0,xt=zn(o.firstChild)),o=i.pendingProps.children,t!==null||qe?Ut(t,i,o,a):i.child=vs(i,null,o,a),Hl(t,i),i.child;case 5:return t===null&&qe&&((h=o=xt)&&(o=pS(o,i.type,i.pendingProps,ni),o!==null?(i.stateNode=o,en=i,xt=zn(o.firstChild),ni=!1,h=!0):h=!1),h||_s(i)),ll(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,rd(h,d)?o=null:v!==null&&rd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gh(t,i,VA,null,null,a),lo._currentValue=h),Hl(t,i),Ut(t,i,o,a),i.child;case 6:return t===null&&qe&&((t=a=xt)&&(a=gS(a,i.pendingProps,ni),a!==null?(i.stateNode=a,en=i,xt=null,t=!0):t=!1),t||_s(i)),null;case 13:return jg(t,i,a);case 4:return er(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=vs(i,null,o,a):Ut(t,i,o,a),i.child;case 11:return kg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Tr(i,i.type,o.value),Ut(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Rs(i),h=Ft(h),o=o(h),i.flags|=1,Ut(t,i,o,a),i.child;case 14:return Lg(t,i,i.type,i.pendingProps,a);case 15:return xg(t,i,i.type,i.pendingProps,a);case 19:return Gg(t,i,a);case 22:return Ug(t,i,a);case 24:return Rs(i),o=Ft(wt),t===null?(h=jh(),h===null&&(h=Xe,d=qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Af(i),Tr(i,wt,h)):(t.lanes&a&&(Sf(t,i),Ql(i,null,null,a),Gl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,wt,o)):(o=d.cache,Tr(i,wt,o),o!==h.cache&&Tf(i,[wt],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var vf=ze(null),ws=null,Ni=null;function Tr(t,i,a){Qe(vf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=vf.current,rt(vf)}function Ef(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ef(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jl(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(lo):t=[lo])}h=h.return}t!==null&&Tf(i,t,a,o),i.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){ws=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Kg(ws,t)}function qu(t,i){return ws===null&&Rs(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ni=Ni.next=i;return a}var Ar=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,nt&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Tu(t),Cp(t,null,a),i}return Eu(t,o,i,a),Tu(t)}function Fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}function bf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function Gl(){if(wf){var t=ya;if(t!==null)throw t}}function Ql(t,i,a,o){wf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,k=R.next;R.next=null,v===null?d=k:v.next=k,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=k:T.next=k,Q.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;v=0,Q=k=R=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(xe&q)===q:(o&q)===q){q!==0&&q===ga&&(wf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Ae=T;q=i;var ot=a;switch(Ae.tag){case 1:if(ce=Ae.payload,typeof ce=="function"){Z=ce.call(ot,Z,q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ae.payload,q=typeof ce=="function"?ce.call(ot,Z,q):ce,q==null)break e;Z=I({},Z,q);break e;case 2:Ar=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(k=Q=F,R=Z):Q=Q.next=F,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=Z}}function Yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}function Kl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function wr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a;try{T()}catch(k){$e(h,R,k)}}}o=o.next}while(o!==d)}}catch(k){$e(i,i.return,k)}}function Xg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(o){$e(t,t.return,o)}}}function Wg(t,i,a){a.props=bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function Is(t,i){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function hn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Zg(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Jg(t,i,a){try{var o=t.stateNode;cS(o,t.type,a,i),o[Tt]=i}catch(h){$e(t,t.return,h)}}function ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tc));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(If(t,i,a),t=t.sibling;t!==null;)If(t,i,a),t=t.sibling}function Hu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Hu(t,i,a),t=t.sibling;t!==null;)Hu(t,i,a),t=t.sibling}var Mi=!1,at=!1,Cf=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Mt=null,ny=!1;function BA(t,i){if(t=t.containerInfo,nd=oc,t=vp(t),Dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,k=0,Q=0,Z=t,q=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||o!==0&&Z.nodeType!==3||(R=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===a&&++k===h&&(T=v),q===d&&++Q===o&&(R=v),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(id={focusedElem:t,selectionRange:a},oc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ce=bs(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ce,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){$e(a,a.return,Ae)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return ce=ny,ny=!1,ce}function iy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ki(t,a),o&4&&Kl(5,a);break;case 1:if(ki(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){$e(a,a.return,T)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){$e(a,a.return,T)}}o&64&&Xg(a),o&512&&Is(a,a.return);break;case 3:if(ki(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$g(o,t)}catch(T){$e(a,a.return,T)}}break;case 26:ki(t,a),o&512&&Is(a,a.return);break;case 27:case 5:ki(t,a),i===null&&o&4&&Zg(a),o&512&&Is(a,a.return);break;case 12:ki(t,a);break;case 13:ki(t,a),o&4&&ay(t,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){i=i!==null&&i.memoizedState!==null||at;var d=Mi,v=at;Mi=h,(at=i)&&!v?Rr(t,a,(a.subtreeFlags&8772)!==0):ki(t,a),Mi=d,at=v}o&512&&(a.memoizedProps.mode==="manual"?Is(a,a.return):hn(a,a.return));break;default:ki(t,a)}}function ry(t){var i=t.alternate;i!==null&&(t.alternate=null,ry(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&is(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,fn=!1;function Pi(t,i,a){for(a=a.child;a!==null;)sy(t,i,a),a=a.sibling}function sy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:at||hn(a,i),Pi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||hn(a,i);var o=gt,h=fn;for(gt=a.stateNode,Pi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);is(a),gt=o,fn=h;break;case 5:at||hn(a,i);case 6:h=gt;var d=fn;if(gt=null,Pi(t,i,a),gt=h,fn=d,gt!==null)if(fn)try{t=gt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(v){$e(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){$e(a,i,v)}break;case 18:gt!==null&&(fn?(i=gt,a=a.stateNode,i.nodeType===8?ad(i.parentNode,a):i.nodeType===1&&ad(i,a),ho(i)):ad(gt,a.stateNode));break;case 4:o=gt,h=fn,gt=a.stateNode.containerInfo,fn=!0,Pi(t,i,a),gt=o,fn=h;break;case 0:case 11:case 14:case 15:at||wr(2,a,i),at||wr(4,a,i),Pi(t,i,a);break;case 1:at||(hn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wg(a,i,o)),Pi(t,i,a);break;case 21:Pi(t,i,a);break;case 22:at||hn(a,i),at=(o=at)||a.memoizedState!==null,Pi(t,i,a),at=o;break;default:Pi(t,i,a)}}function ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){$e(i,i.return,a)}}function qA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ty),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ty),i;default:throw Error(s(435,t.tag))}}function Df(t,i){var a=qA(t);i.forEach(function(o){var h=eS.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function Cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:gt=T.stateNode,fn=!1;break e;case 3:gt=T.stateNode.containerInfo,fn=!0;break e;case 4:gt=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(gt===null)throw Error(s(160));sy(d,v,h),gt=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,t),i=i.sibling}var Un=null;function ly(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(i,t),Dn(t),o&4&&(wr(3,t,t.return),Kl(3,t),wr(5,t,t.return));break;case 1:Cn(i,t),Dn(t),o&512&&(at||a===null||hn(a,a.return)),o&64&&Mi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(Cn(i,t),Dn(t),o&512&&(at||a===null||hn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,o,a),d[Dt]=t,et(d),o=d;break e;case"link":var v=Zy("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Zy("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Dt]=t,et(d),o=d}t.stateNode=o}else Jy(h,t.type,t.stateNode);else t.stateNode=Wy(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Jy(h,t.type,t.stateNode):Wy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var k=R.nextSibling,Q=R.nodeName;R[or]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=k}for(var Z=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);zt(h,Z,d),h[Dt]=t,h[Tt]=d}catch(ce){$e(t,t.return,ce)}}case 5:if(Cn(i,t),Dn(t),o&512&&(at||a===null||hn(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ce){$e(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jg(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Cf=!0);break;case 6:if(Cn(i,t),Dn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){$e(t,t.return,ce)}}break;case 3:if(sc=null,h=Un,Un=ic(i.containerInfo),Cn(i,t),Un=h,Dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(ce){$e(t,t.return,ce)}Cf&&(Cf=!1,oy(t));break;case 4:o=Un,Un=ic(t.stateNode.containerInfo),Cn(i,t),Dn(t),Un=o;break;case 12:Cn(i,t),Dn(t);break;case 13:Cn(i,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uf=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Df(t,o)));break;case 22:if(o&512&&(at||a===null||hn(a,a.return)),R=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,Q=Mi,Z=at,Mi=Q||R,at=Z||k,Cn(i,t),at=Z,Mi=Q,Dn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Mi||at,a===null||k||i||Ta(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var F=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){$e(k,k.return,ce)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=R?"":k.memoizedProps}catch(ce){$e(k,k.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Df(t,a))));break;case 19:Cn(i,t),Dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Df(t,o)));break;case 21:break;default:Cn(i,t),Dn(t)}}function Dn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ey(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Rf(t);Hu(t,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(vn(v,""),o.flags&=-33);var T=Rf(t);Hu(t,T,v);break;case 3:case 4:var R=o.stateNode.containerInfo,k=Rf(t);If(t,k,R);break;default:throw Error(s(161))}}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iy(t,i.alternate,i),i=i.sibling}function Ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Ta(i);break;case 1:hn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wg(i,i.return,a),Ta(i);break;case 26:case 27:case 5:hn(i,i.return),Ta(i);break;case 22:hn(i,i.return),i.memoizedState===null&&Ta(i);break;default:Ta(i)}t=t.sibling}}function Rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),Kl(4,d);break;case 1:if(Rr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){$e(o,o.return,k)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yg(R[h],T)}catch(k){$e(o,o.return,k)}}a&&v&64&&Xg(d),Is(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&o===null&&v&4&&Zg(d),Is(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&ay(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),Is(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Of(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xl(a))}function Nf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t))}function Ir(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uy(t,i,a,o),i=i.sibling}function uy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(t,i,a,o),h&2048&&Kl(9,i);break;case 3:Ir(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t)));break;case 12:if(h&2048){Ir(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else Ir(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ir(t,i,a,o):Yl(t,i):d._visibility&4?Ir(t,i,a,o):(d._visibility|=4,Aa(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Of(i.alternate,i);break;case 24:Ir(t,i,a,o),h&2048&&Nf(i.alternate,i);break;default:Ir(t,i,a,o)}}function Aa(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,T,R,h),Kl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?Aa(d,v,T,R,h):Yl(d,v):(Q._visibility|=4,Aa(d,v,T,R,h)),h&&k&2048&&Of(v.alternate,v);break;case 24:Aa(d,v,T,R,h),h&&k&2048&&Nf(v.alternate,v);break;default:Aa(d,v,T,R,h)}i=i.sibling}}function Yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Yl(a,o),h&2048&&Of(o.alternate,o);break;case 24:Yl(a,o),h&2048&&Nf(o.alternate,o);break;default:Yl(a,o)}i=i.sibling}}var $l=8192;function Sa(t){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)cy(t),t=t.sibling}function cy(t){switch(t.tag){case 26:Sa(t),t.flags&$l&&t.memoizedState!==null&&DS(Un,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=Un;Un=ic(t.stateNode.containerInfo),Sa(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,Sa(t),$l=i):Sa(t));break;default:Sa(t)}}function hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xl(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Mt=o,dy(o,t)}hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fy(t),t=t.sibling}function fy(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&wr(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,ju(t)):Xl(t);break;default:Xl(t)}}function ju(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Mt=o,dy(o,t)}hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),ju(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,ju(i));break;default:ju(i)}t=t.sibling}}function dy(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Mt=o;else e:for(a=t;Mt!==null;){o=Mt;var h=o.sibling,d=o.return;if(ry(o),o===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function HA(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,o){return new HA(t,i,a,o)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cr(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function my(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=IS(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Cs(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=On(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case K:return t=On(13,a,i,h),t.elementType=K,t.lanes=d,t;case H:return t=On(19,a,i,h),t.elementType=H,t.lanes=d,t;case ee:return py(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case M:v=10;break e;case D:v=9;break e;case z:v=11;break e;case Y:v=14;break e;case te:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=On(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Cs(t,i,a,o){return t=On(7,t,o,i),t.lanes=a,t}function py(t,i,a,o){t=On(22,t,o,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=gr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=gr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return t.stateNode=h,t}function Mf(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function Pf(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Li(t){t.flags|=4}function gy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e_(i)){if(i=In.current,i!==null&&((xe&4194176)===xe?ii!==null:(xe&62914560)!==xe&&!(xe&536870912)||i!==ii))throw Pl=Uh,Mp;t.flags|=8192}}function Gu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?rr():536870912,t.lanes|=i,wa|=i)}function Wl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function jA(t,i,a){var o=i.pendingProps;switch(Lh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vi(wt),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ol(i)?Li(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,xn!==null&&(Hf(xn),xn=null))),tt(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(tt(i),gy(i,a)):(tt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),tt(i),gy(i,a)):(tt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Li(i),tt(i),i.flags&=-16777217),null;case 27:Fs(i),a=gn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return tt(i),null}t=Xt.current,Ol(i)?Np(i):(t=Qy(h,o,a),i.stateNode=t,Li(i))}return tt(i),null;case 5:if(Fs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return tt(i),null}if(t=Xt.current,Ol(i))Np(i);else{switch(h=nc(gn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Dt]=i,t[Tt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=gn.current,Ol(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||By(t.nodeValue,a)),t||_s(i)}else t=nc(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return tt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ol(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else Nl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;tt(i),h=!1}else xn!==null&&(Hf(xn),xn=null),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),tt(i),null;case 4:return pi(),t===null&&Jf(i.stateNode.containerInfo),tt(i),null;case 10:return Vi(i.type),tt(i),null;case 19:if(rt(bt),h=i.memoizedState,h===null)return tt(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Wl(h,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Cu(t),d!==null){for(i.flags|=128,Wl(h,!1),t=d.updateQueue,i.updateQueue=t,Gu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)my(a,t),a=a.sibling;return Qe(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>Qu&&(i.flags|=128,o=!0,Wl(h,!1),i.lanes=4194304)}else{if(!o)if(t=Cu(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Gu(i,t),Wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return tt(i),null}else 2*rn()-h.renderingStartTime>Qu&&a!==536870912&&(i.flags|=128,o=!0,Wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=bt.current,Qe(bt,o?t&1|2:t&1),i):(tt(i),null);case 22:case 23:return Ci(i),Bh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&rt(Es),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(wt),tt(i),null;case 25:return null}throw Error(s(156,i.tag))}function FA(t,i){switch(Lh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(wt),pi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Ci(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Nl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return rt(bt),null;case 4:return pi(),null;case 10:return Vi(i.type),null;case 22:case 23:return Ci(i),Bh(),t!==null&&rt(Es),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(wt),null;case 25:return null;default:return null}}function yy(t,i){switch(Lh(i),i.tag){case 3:Vi(wt),pi();break;case 26:case 27:case 5:Fs(i);break;case 4:pi();break;case 13:Ci(i);break;case 19:rt(bt);break;case 10:Vi(i.type);break;case 22:case 23:Ci(i),Bh(),t!==null&&rt(Es);break;case 24:Vi(wt)}}var GA={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},QA=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Oe=null,xe=0,We=0,dn=null,xi=!1,ba=!1,kf=!1,Ui=0,lt=0,Dr=0,Ds=0,Lf=0,Nn=0,wa=0,Zl=null,si=null,xf=!1,Uf=0,Qu=1/0,Ku=null,Or=null,Yu=!1,Os=null,Jl=0,zf=0,Bf=null,eo=0,qf=null;function mn(){if(nt&2&&xe!==0)return xe&-xe;if(S.T!==null){var t=ga;return t!==0?t:$f()}return eu()}function _y(){Nn===0&&(Nn=!(xe&536870912)||qe?fl():536870912);var t=In.current;return t!==null&&(t.flags|=32),Nn}function tn(t,i,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Ra(t,0),zi(t,xe,Nn,!1)),ut(t,a),(!(nt&2)||t!==Xe)&&(t===Xe&&(!(nt&2)&&(Ds|=a),lt===4&&zi(t,xe,Nn,!1)),ai(t))}function vy(t,i,a){if(nt&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ir(t,i),h=o?$A(t,i):Gf(t,i,!0),d=o;do{if(h===0){ba&&!o&&zi(t,i,0,!1);break}else if(h===6)zi(t,i,0,!xi);else{if(a=t.current.alternate,d&&!KA(a)){h=Gf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Zl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ra(T,v).flags|=256),v=Gf(T,v,!1),v!==2){if(kf&&!R){T.errorRecoveryDisabledLanes|=d,Ds|=d,h=4;break e}d=si,si=h,d!==null&&Hf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ra(t,0),zi(t,i,0,!0);break}e:{switch(o=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){zi(o,i,Nn,!xi);break e}break;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Uf+300-rn(),10<d)){if(zi(o,i,Nn,!xi),yn(o,0)!==0)break e;o.timeoutHandle=jy(Ey.bind(null,o,a,si,Ku,xf,i,Nn,Ds,wa,xi,2,-0,0),d);break e}Ey(o,a,si,Ku,xf,i,Nn,Ds,wa,xi,0,-0,0)}}break}while(!0);ai(t)}function Hf(t){si===null?si=t:si.push.apply(si,t)}function Ey(t,i,a,o,h,d,v,T,R,k,Q,Z,q){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:CS},cy(i),i=OS(),i!==null)){t.cancelPendingCommit=i(Iy.bind(null,t,a,o,h,v,T,R,1,Z,q)),zi(t,d,v,!k);return}Iy(t,a,o,h,v,T,R,Q,Z,q)}function KA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zi(t,i,a,o){i&=~Lf,i&=~Ds,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function $u(){return nt&6?!0:(to(0),!1)}function jf(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Ni=ws=null,Yh(t),ma=null,kl=0,t=Oe;for(;t!==null;)yy(t.alternate,t),t=t.return;Oe=null}}function Ra(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jf(),Xe=t,Oe=a=Cr(t.current,null),xe=i,We=0,dn=null,xi=!1,ba=ir(t,i),kf=!1,wa=Nn=Lf=Ds=Dr=lt=0,si=Zl=null,xf=!1,i&8&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Wt(o),d=1<<h;i|=t[h],o&=~d}return Ui=i,vu(),a}function Ty(t,i){Ce=null,S.H=ri,i===Ml?(i=Lp(),We=3):i===Mp?(i=Lp(),We=4):We=i===Pg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Oe===null&&(lt=1,zu(t,bn(i,t.current)))}function Ay(){var t=S.H;return S.H=ri,t===null?ri:t}function Sy(){var t=S.A;return S.A=GA,t}function Ff(){lt=4,xi||(xe&4194176)!==xe&&In.current!==null||(ba=!0),!(Dr&134217727)&&!(Ds&134217727)||Xe===null||zi(Xe,xe,Nn,!1)}function Gf(t,i,a){var o=nt;nt|=2;var h=Ay(),d=Sy();(Xe!==t||xe!==i)&&(Ku=null,Ra(t,i)),i=!1;var v=lt;e:do try{if(We!==0&&Oe!==null){var T=Oe,R=dn;switch(We){case 8:jf(),v=6;break e;case 3:case 2:case 6:In.current===null&&(i=!0);var k=We;if(We=0,dn=null,Ia(t,T,R,k),a&&ba){v=0;break e}break;default:k=We,We=0,dn=null,Ia(t,T,R,k)}}YA(),v=lt;break}catch(Q){Ty(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Ni=ws=null,nt=o,S.H=h,S.A=d,Oe===null&&(Xe=null,xe=0,vu()),v}function YA(){for(;Oe!==null;)by(Oe)}function $A(t,i){var a=nt;nt|=2;var o=Ay(),h=Sy();Xe!==t||xe!==i?(Ku=null,Qu=rn()+500,Ra(t,i)):ba=ir(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=dn;t:switch(We){case 1:We=0,dn=null,Ia(t,i,d,1);break;case 2:if(Pp(d)){We=0,dn=null,wy(i);break}i=function(){We===2&&Xe===t&&(We=7),ai(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Pp(d)?(We=0,dn=null,wy(i)):(We=0,dn=null,Ia(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||e_(v)){We=0,dn=null;var R=T.sibling;if(R!==null)Oe=R;else{var k=T.return;k!==null?(Oe=k,Xu(k)):Oe=null}break t}}We=0,dn=null,Ia(t,i,d,5);break;case 6:We=0,dn=null,Ia(t,i,d,6);break;case 8:jf(),lt=6;break e;default:throw Error(s(462))}}XA();break}catch(Q){Ty(t,Q)}while(!0);return Ni=ws=null,S.H=o,S.A=h,nt=a,Oe!==null?0:(Xe=null,xe=0,vu(),lt)}function XA(){for(;Oe!==null&&!_h();)by(Oe)}function by(t){var i=Qg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?Xu(t):Oe=i}function wy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Bg(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Bg(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Yh(i);default:yy(a,i),i=Oe=my(i,Ui),i=Qg(a,i,Ui)}t.memoizedProps=t.pendingProps,i===null?Xu(t):Oe=i}function Ia(t,i,a,o){Ni=ws=null,Yh(i),ma=null,kl=0;var h=i.return;try{if(UA(t,h,i,a,xe)){lt=1,zu(t,bn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,zu(t,bn(a,t.current)),Oe=null;return}i.flags&32768?(qe||o===1?t=!0:ba||xe&536870912?t=!1:(xi=t=!0,(o===2||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(i,t)):Xu(i)}function Xu(t){var i=t;do{if(i.flags&32768){Ry(i,xi);return}t=i.return;var a=jA(i.alternate,i,Ui);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);lt===0&&(lt=5)}function Ry(t,i){do{var a=FA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);lt=6,Oe=null}function Iy(t,i,a,o,h,d,v,T,R,k){var Q=S.T,Z=se.p;try{se.p=2,S.T=null,WA(t,i,a,o,Z,h,d,v,T,R,k)}finally{S.T=Q,se.p=Z}}function WA(t,i,a,o,h,d,v,T){do Ca();while(Os!==null);if(nt&6)throw Error(s(327));var R=t.finishedWork;if(o=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=R.lanes|R.childLanes;if(k|=Mh,Zo(t,o,k,d,v,T),t===Xe&&(Oe=Xe=null,xe=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Yu||(Yu=!0,zf=k,Bf=a,tS(gi,function(){return Ca(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=S.T,S.T=null,d=se.p,se.p=2,v=nt,nt|=4,BA(t,R),ly(R,t),TA(id,t.containerInfo),oc=!!nd,id=nd=null,t.current=R,iy(t,R.alternate,R),ol(),nt=v,se.p=d,S.T=a):t.current=R,Yu?(Yu=!1,Os=t,Jl=o):Cy(t,k),k=t.pendingLanes,k===0&&(Or=null),cl(R.stateNode),ai(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)k=i[R],h(k.value,{componentStack:k.stack});return Jl&3&&Ca(),k=t.pendingLanes,o&4194218&&k&42?t===qf?eo++:(eo=0,qf=t):eo=0,to(0),null}function Cy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xl(i)))}function Ca(){if(Os!==null){var t=Os,i=zf;zf=0;var a=Jo(Jl),o=S.T,h=se.p;try{if(se.p=32>a?32:a,S.T=null,Os===null)var d=!1;else{a=Bf,Bf=null;var v=Os,T=Jl;if(Os=null,Jl=0,nt&6)throw Error(s(331));var R=nt;if(nt|=4,fy(v.current),uy(v,v.current,T,a),nt=R,to(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(tr,v)}catch{}d=!0}return d}finally{se.p=h,S.T=o,Cy(t,i)}}return!1}function Dy(t,i,a){i=bn(a,i),i=uf(t.stateNode,i,2),t=br(t,i,2),t!==null&&(ut(t,2),ai(t))}function $e(t,i,a){if(t.tag===3)Dy(t,t,a);else for(;i!==null;){if(i.tag===3){Dy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){t=bn(a,t),a=Vg(2),o=br(i,a,2),o!==null&&(Mg(a,o,i,t),ut(o,2),ai(o));break}}i=i.return}}function Qf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new QA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(kf=!0,h.add(a),t=ZA.bind(null,t,i,a),i.then(t,t))}function ZA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(xe&a)===a&&(lt===4||lt===3&&(xe&62914560)===xe&&300>rn()-Uf?!(nt&2)&&Ra(t,0):Lf|=a,wa===xe&&(wa=0)),ai(t)}function Oy(t,i){i===0&&(i=rr()),t=gr(t,i),t!==null&&(ut(t,i),ai(t))}function JA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Oy(t,a)}function eS(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Oy(t,a)}function tS(t,i){return es(t,i)}var Wu=null,Da=null,Kf=!1,Zu=!1,Yf=!1,Ns=0;function ai(t){t!==Da&&t.next===null&&(Da===null?Wu=Da=t:Da=Da.next=t),Zu=!0,Kf||(Kf=!0,iS(nS))}function to(t,i){if(!Yf&&Zu){Yf=!0;do for(var a=!1,o=Wu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,My(o,d))}else d=xe,d=yn(o,o===Xe?d:0),!(d&3)||ir(o,d)||(a=!0,My(o,d));o=o.next}while(a);Yf=!1}}function nS(){Zu=Kf=!1;var t=0;Ns!==0&&(hS()&&(t=Ns),Ns=0);for(var i=rn(),a=null,o=Wu;o!==null;){var h=o.next,d=Ny(o,i);d===0?(o.next=null,a===null?Wu=h:a.next=h,h===null&&(Da=a)):(a=o,(t!==0||d&3)&&(Zu=!0)),o=h}to(t)}function Ny(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,R=h[v];R===-1?(!(T&a)||T&o)&&(h[v]=Ks(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=Xe,a=xe,a=yn(t,t===i?a:0),o=t.callbackNode,a===0||t===i&&We===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Qs(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ir(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Qs(o),Jo(a)){case 2:case 8:a=Ct;break;case 32:a=gi;break;case 268435456:a=ul;break;default:a=gi}return o=Vy.bind(null,t),a=es(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Qs(o),t.callbackPriority=2,t.callbackNode=null,2}function Vy(t,i){var a=t.callbackNode;if(Ca()&&t.callbackNode!==a)return null;var o=xe;return o=yn(t,t===Xe?o:0),o===0?null:(vy(t,o,i),Ny(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Vy.bind(null,t):null)}function My(t,i){if(Ca())return null;vy(t,i,!0)}function iS(t){dS(function(){nt&6?es(Et,t):t()})}function $f(){return Ns===0&&(Ns=fl()),Ns}function Py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$n(""+t)}function ky(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rS(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Py((h[Tt]||null).action),v=o.submitter;v&&(i=(i=v[Tt]||null)?Py(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ea("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var R=v?ky(h,v):new FormData(h);rf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?ky(h,v):new FormData(h),rf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Xf=0;Xf<Ip.length;Xf++){var Wf=Ip[Xf],sS=Wf.toLowerCase(),aS=Wf[0].toUpperCase()+Wf.slice(1);Ln(sS,"on"+aS)}Ln(Ap,"onAnimationEnd"),Ln(Sp,"onAnimationIteration"),Ln(bp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(SA,"onTransitionRun"),Ln(bA,"onTransitionStart"),Ln(wA,"onTransitionCancel"),Ln(wp,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Ly(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],R=T.instance,k=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(T=o[v],R=T.instance,k=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(Q){Uu(Q)}h.currentTarget=null,d=R}}}}function Me(t,i){var a=i[ns];a===void 0&&(a=i[ns]=new Set);var o=t+"__bubble";a.has(o)||(xy(i,t,2,!1),a.add(o))}function Zf(t,i,a){var o=0;i&&(o|=4),xy(a,t,o,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[Ju]){t[Ju]=!0,ml.forEach(function(a){a!=="selectionchange"&&(lS.has(a)||Zf(a,!1,t),Zf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,Zf("selectionchange",!1,i))}}function xy(t,i,a,o){switch(a_(i)){case 2:var h=MS;break;case 8:h=PS;break;default:h=fd}a=h.bind(null,i,a,t),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ed(t,i,a,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=kn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue e}T=T.parentNode}}o=o.return}ru(function(){var k=d,Q=Js(a),Z=[];e:{var q=Rp.get(t);if(q!==void 0){var F=ea,ce=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":F=aa;break;case"focusin":ce="focus",F=ia;break;case"focusout":ce="blur",F=ia;break;case"beforeblur":case"afterblur":F=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=fu;break;case Ap:case Sp:case bp:F=ra;break;case wp:F=mu;break;case"scroll":case"scrollend":F=su;break;case"wheel":F=la;break;case"copy":case"cut":case"paste":F=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Rl;break;case"toggle":case"beforetoggle":F=gu}var Ae=(i&4)!==0,ot=!Ae&&(t==="scroll"||t==="scrollend"),L=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var N=k,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||L===null||($=ls(N,L),$!=null&&Ae.push(io(N,$,B))),ot)break;N=N.return}0<Ae.length&&(q=new F(q,ce,null,a,Q),Z.push({event:q,listeners:Ae}))}}if(!(i&7)){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==En&&(ce=a.relatedTarget||a.fromElement)&&(kn(ce)||ce[yi]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=k,ce=ce?kn(ce):null,ce!==null&&(ot=de(ce),Ae=ce.tag,ce!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(ce=null)):(F=null,ce=k),F!==ce)){if(Ae=An,$="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Rl,$="onPointerLeave",L="onPointerEnter",N="pointer"),ot=F==null?q:ur(F),B=ce==null?q:ur(ce),q=new Ae($,N+"leave",F,a,Q),q.target=ot,q.relatedTarget=B,$=null,kn(Q)===k&&(Ae=new Ae(L,N+"enter",ce,a,Q),Ae.target=B,Ae.relatedTarget=ot,$=Ae),ot=$,F&&ce)t:{for(Ae=F,L=ce,N=0,B=Ae;B;B=Oa(B))N++;for(B=0,$=L;$;$=Oa($))B++;for(;0<N-B;)Ae=Oa(Ae),N--;for(;0<B-N;)L=Oa(L),B--;for(;N--;){if(Ae===L||L!==null&&Ae===L.alternate)break t;Ae=Oa(Ae),L=Oa(L)}Ae=null}else Ae=null;F!==null&&Uy(Z,q,F,Ae,!1),ce!==null&&ot!==null&&Uy(Z,ot,ce,Ae,!0)}}e:{if(q=k?ur(k):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var le=hp;else if(St(q))if(fp)le=vA;else{le=yA;var De=gA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&vl(k.elementType)&&(le=hp):le=_A;if(le&&(le=le(t,k))){wi(Z,le,a,Q);break e}De&&De(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&Zs(q,"number",q.value)}switch(De=k?ur(k):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(oa=De,Oh=k,Dl=null);break;case"focusout":Dl=Oh=oa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Ep(Z,a,Q);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":Ep(Z,a,Q)}var fe;if(ei)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ke?j(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(_&&a.locale!=="ko"&&(ke||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ke&&(fe=Tl()):(Xn=Q,pr="value"in Xn?Xn.value:Xn.textContent,ke=!0)),De=ec(k,ge),0<De.length&&(ge=new bl(ge,t,null,a,Q),Z.push({event:ge,listeners:De}),fe?ge.data=fe:(fe=ne(a),fe!==null&&(ge.data=fe)))),(fe=g?At(t,a):Le(t,a))&&(ge=ec(k,"onBeforeInput"),0<ge.length&&(De=new bl("onBeforeInput","beforeinput",null,a,Q),Z.push({event:De,listeners:ge}),De.data=fe)),rS(Z,t,k,a,Q)}Ly(Z,i)})}function io(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ec(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(t,a),h!=null&&o.unshift(io(t,h,d)),h=ls(t,i),h!=null&&o.push(io(t,h,d))),t=t.return}return o}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uy(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,R=T.alternate,k=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||k===null||(R=k,h?(k=ls(a,d),k!=null&&v.unshift(io(a,k,R))):h||(k=ls(a,d),k!=null&&v.push(io(a,k,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var oS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(oS,`
`).replace(uS,"")}function By(t,i){return i=zy(i),zy(t)===i}function tc(){}function Ye(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vn(t,""+o);break;case"className":fr(t,"class",o);break;case"tabIndex":fr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,a,o);break;case"style":iu(t,o,d);break;case"data":if(i!=="object"){fr(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=$n(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=$n(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=tc);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=$n(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),hr(t,"popover",o);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sh.get(a)||a,hr(t,a,o))}}function td(t,i,a,o,h,d){switch(a){case"style":iu(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):hr(t,a,o)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),o&&Ye(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":k=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Ye(t,i,o,Q,a,null)}}ss(t,d,T,R,k,v,h,!1),rs(t);return;case"select":Me("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Ye(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Be(t,!!o,i,!1):a!=null&&Be(t,!!o,a,!0);return;case"textarea":Me("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,i,v,T,a,null)}mr(t,o,h,d),rs(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,i,R,o,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<no.length;o++)Me(no[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,k,o,a,null)}return;default:if(vl(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&td(t,i,Q,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Ye(t,i,T,o,a,null))}function cS(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,k=null,Q=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(F)||Ye(t,i,F,null,o,Z)}}for(var q in o){var F=o[q];if(Z=a[q],o.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":k=F;break;case"defaultChecked":Q=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&Ye(t,i,q,F,o,Z)}}dr(t,v,T,R,k,Q,d,h);return;case"select":F=v=T=q=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(d)||Ye(t,i,d,null,o,R)}for(h in o)if(d=o[h],R=a[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Ye(t,i,h,d,o,R)}i=T,a=v,o=F,q!=null?Be(t,!!a,q,!1):!!o!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,v,h,o,d)}as(t,q,F);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Ye(t,i,ce,null,o,q)}for(R in o)if(q=o[R],F=a[R],o.hasOwnProperty(R)&&q!==F&&(q!=null||F!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,i,R,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!o.hasOwnProperty(Ae)&&Ye(t,i,Ae,null,o,q);for(k in o)if(q=o[k],F=a[k],o.hasOwnProperty(k)&&q!==F&&(q!=null||F!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ye(t,i,k,q,o,F)}return;default:if(vl(i)){for(var ot in a)q=a[ot],a.hasOwnProperty(ot)&&q!==void 0&&!o.hasOwnProperty(ot)&&td(t,i,ot,void 0,o,q);for(Q in o)q=o[Q],F=a[Q],!o.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||td(t,i,Q,q,o,F);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&Ye(t,i,L,null,o,q);for(Z in o)q=o[Z],F=a[Z],!o.hasOwnProperty(Z)||q===F||q==null&&F==null||Ye(t,i,Z,q,o,F)}var nd=null,id=null;function nc(t){return t.nodeType===9?t:t.ownerDocument}function qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sd=null;function hS(){var t=window.event;return t&&t.type==="popstate"?t===sd?!1:(sd=t,!0):(sd=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(mS)}:jy;function mS(t){setTimeout(function(){throw t})}function ad(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){t.removeChild(h),ho(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ho(i)}function ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ld(a),is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pS(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[or])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function gS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Gy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Qy(t,i,a){switch(i=nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Vn=new Map,Ky=new Set;function ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Bi=se.d;se.d={f:yS,r:_S,D:vS,C:ES,L:TS,m:AS,X:bS,S:SS,M:wS};function yS(){var t=Bi.f(),i=$u();return t||i}function _S(t){var i=_i(t);i!==null&&i.tag===5&&i.type==="form"?Eg(i):Bi.r(t)}var Na=typeof document>"u"?null:document;function Yy(t,i,a){var o=Na;if(o&&typeof i=="string"&&i){var h=st(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ky.has(h)||(Ky.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),zt(i,"link",t),et(i),o.head.appendChild(i)))}}function vS(t){Bi.D(t),Yy("dns-prefetch",t,null)}function ES(t,i){Bi.C(t,i),Yy("preconnect",t,i)}function TS(t,i,a){Bi.L(t,i,a);var o=Na;if(o&&t&&i){var h='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(i){case"style":d=Va(t);break;case"script":d=Ma(t)}Vn.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(ro(d))||i==="script"&&o.querySelector(so(d))||(i=o.createElement("link"),zt(i,"link",t),et(i),o.head.appendChild(i)))}}function AS(t,i){Bi.m(t,i);var a=Na;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+st(o)+'"][href="'+st(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(t)}if(!Vn.has(d)&&(t=I({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(so(d)))return}o=a.createElement("link"),zt(o,"link",t),et(o),a.head.appendChild(o)}}}function SS(t,i,a){Bi.S(t,i,a);var o=Na;if(o&&t){var h=cr(o).hoistableStyles,d=Va(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(ro(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&od(t,a);var R=v=o.createElement("link");et(R),zt(R,"link",t),R._p=new Promise(function(k,Q){R.onload=k,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,rc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function bS(t,i){Bi.X(t,i);var a=Na;if(a&&t){var o=cr(a).hoistableScripts,h=Ma(t),d=o.get(h);d||(d=a.querySelector(so(h)),d||(t=I({src:t,async:!0},i),(i=Vn.get(h))&&ud(t,i),d=a.createElement("script"),et(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function wS(t,i){Bi.M(t,i);var a=Na;if(a&&t){var o=cr(a).hoistableScripts,h=Ma(t),d=o.get(h);d||(d=a.querySelector(so(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&ud(t,i),d=a.createElement("script"),et(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function $y(t,i,a,o){var h=(h=gn.current)?ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=cr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Va(a.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ro(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||RS(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=cr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Va(t){return'href="'+st(t)+'"'}function ro(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function RS(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),zt(i,"link",a),et(i),t.head.appendChild(i))}function Ma(t){return'[src="'+st(t)+'"]'}function so(t){return"script[async]"+t}function Wy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(o)return i.instance=o,et(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),et(o),zt(o,"style",h),rc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Va(a.href);var d=t.querySelector(ro(h));if(d)return i.state.loading|=4,i.instance=d,et(d),d;o=Xy(a),(h=Vn.get(h))&&od(o,h),d=(t.ownerDocument||t).createElement("link"),et(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",o),i.state.loading|=4,rc(d,a.precedence,t),i.instance=d;case"script":return d=Ma(a.src),(h=t.querySelector(so(d)))?(i.instance=h,et(h),h):(o=a,(h=Vn.get(d))&&(o=I({},a),ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),zt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,rc(o,a.precedence,t));return i.instance}function rc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sc=null;function Zy(t,i,a){if(sc===null){var o=new Map,h=sc=new Map;h.set(a,o)}else h=sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Jy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function IS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ao=null;function CS(){}function DS(t,i,a){if(ao===null)throw Error(s(475));var o=ao;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Va(a.href),d=t.querySelector(ro(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=ac.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,et(d);return}d=t.ownerDocument||t,a=Xy(a),(h=Vn.get(h))&&od(a,h),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=ac.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function OS(){if(ao===null)throw Error(s(475));var t=ao;return t.stylesheets&&t.count===0&&cd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&cd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function cd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,i.forEach(NS,t),lc=null,ac.call(t))}function NS(t,i){if(!(i.state.loading&4)){var a=lc.get(t);if(a)var o=a.get(null);else{a=new Map,lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var lo={$$typeof:M,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function VS(t,i,a,o,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function t_(t,i,a,o,h,d,v,T,R,k,Q,Z){return t=new VS(t,i,a,v,T,R,k,Z),i=1,d===!0&&(i|=24),d=On(3,null,null,i),t.current=d,d.stateNode=t,i=qh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Af(d),t}function n_(t){return t?(t=ha,t):ha}function i_(t,i,a,o,h,d){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=br(t,o,i),a!==null&&(tn(a,t,i),Fl(a,t,i))}function r_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hd(t,i){r_(t,i),(t=t.alternate)&&r_(t,i)}function s_(t){if(t.tag===13){var i=gr(t,67108864);i!==null&&tn(i,t,67108864),hd(t,67108864)}}var oc=!0;function MS(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=2,fd(t,i,a,o)}finally{se.p=d,S.T=h}}function PS(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=8,fd(t,i,a,o)}finally{se.p=d,S.T=h}}function fd(t,i,a,o){if(oc){var h=dd(o);if(h===null)ed(t,i,o,uc,a),l_(t,o);else if(LS(h,t,i,a,o))o.stopPropagation();else if(l_(t,o),i&4&&-1<kS.indexOf(t)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Wt(v);T.entanglements[1]|=R,v&=~R}ai(d),!(nt&6)&&(Qu=rn()+500,to(0))}}break;case 13:T=gr(d,2),T!==null&&tn(T,d,2),$u(),hd(d,2)}if(d=dd(o),d===null&&ed(t,i,o,uc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ed(t,i,o,null,a)}}function dd(t){return t=Js(t),md(t)}var uc=null;function md(t){if(uc=null,t=kn(t),t!==null){var i=de(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=je(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return uc=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yo()){case Et:return 2;case Ct:return 8;case gi:case $o:return 32;case ul:return 268435456;default:return 32}default:return 32}}var pd=!1,Nr=null,Vr=null,Mr=null,oo=new Map,uo=new Map,Pr=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(i.pointerId)}}function co(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&s_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function LS(t,i,a,o,h){switch(i){case"focusin":return Nr=co(Nr,t,i,a,o,h),!0;case"dragenter":return Vr=co(Vr,t,i,a,o,h),!0;case"mouseover":return Mr=co(Mr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return oo.set(d,co(oo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,uo.set(d,co(uo.get(d)||null,t,i,a,o,h)),!0}return!1}function o_(t){var i=kn(t.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=je(a),i!==null){t.blockedOn=i,lr(t.priority,function(){if(a.tag===13){var o=mn(),h=gr(a,o);h!==null&&tn(h,a,o),hd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);En=o,a.target.dispatchEvent(o),En=null}else return i=_i(a),i!==null&&s_(i),t.blockedOn=a,!1;i.shift()}return!0}function u_(t,i,a){cc(t)&&a.delete(i)}function xS(){pd=!1,Nr!==null&&cc(Nr)&&(Nr=null),Vr!==null&&cc(Vr)&&(Vr=null),Mr!==null&&cc(Mr)&&(Mr=null),oo.forEach(u_),uo.forEach(u_)}function hc(t,i){t.blockedOn===i&&(t.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xS)))}var fc=null;function c_(t){fc!==t&&(fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===t&&(fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(md(o||a)===null)continue;break}var d=_i(a);d!==null&&(t.splice(i,3),i-=3,rf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ho(t){function i(R){return hc(R,t)}Nr!==null&&hc(Nr,t),Vr!==null&&hc(Vr,t),Mr!==null&&hc(Mr,t),oo.forEach(i),uo.forEach(i);for(var a=0;a<Pr.length;a++){var o=Pr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Tt]||null;if(typeof d=="function")v||c_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)T=v.formAction;else if(md(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),c_(a)}}}function gd(t){this._internalRoot=t}dc.prototype.render=gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=mn();i_(a,o,t,i,null,null)},dc.prototype.unmount=gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ca(),i_(t.current,2,null,t,null,null),$u(),i[yi]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var i=eu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Pr.length&&i!==0&&i<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&o_(t)}};var h_=e.version;if(h_!=="19.0.0")throw Error(s(527,h_,"19.0.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var US={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{tr=mc.inject(US),jt=mc}catch{}}return fo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Cg,d=Dg,v=Og,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=t_(t,1,!1,null,null,a,o,h,d,v,T,null),t[yi]=i.current,Jf(t.nodeType===8?t.parentNode:t),new gd(i)},fo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Cg,v=Dg,T=Og,R=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=t_(t,1,!0,i,a??null,o,h,d,v,T,R,k),i.context=n_(null),a=i.current,o=mn(),h=Sr(o),h.callback=null,br(a,h,o),i.current.lanes=o,ut(i,o),ai(i),t[yi]=i.current,Jf(t),new dc(i)},fo.version="19.0.0",fo}var v_;function KS(){if(v_)return _d.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_d.exports=QS(),_d.exports}var YS=KS(),mo={},E_;function $S(){if(E_)return mo;E_=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.parse=f,mo.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function f(D,M){const z=new u,K=D.length;if(K<2)return z;const H=(M==null?void 0:M.decode)||E;let Y=0;do{const te=D.indexOf("=",Y);if(te===-1)break;const ee=D.indexOf(";",Y),pe=ee===-1?K:ee;if(te>pe){Y=D.lastIndexOf(";",te-1)+1;continue}const ue=m(D,Y,te),be=p(D,te,ue),V=D.slice(ue,be);if(z[V]===void 0){let w=m(D,te+1,pe),S=p(D,pe,w);const I=H(D.slice(w,S));z[V]=I}Y=pe+1}while(Y<K);return z}function m(D,M,z){do{const K=D.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<z);return z}function p(D,M,z){for(;M>z;){const K=D.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return z}function y(D,M,z){const K=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const H=K(M);if(!e.test(H))throw new TypeError(`argument val is invalid: ${M}`);let Y=D+"="+H;if(!z)return Y;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Y+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Y+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Y+="; Path="+z.path}if(z.expires){if(!b(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Y+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Y+="; HttpOnly"),z.secure&&(Y+="; Secure"),z.partitioned&&(Y+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Y}function E(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function b(D){return l.call(D)==="[object Date]"}return mo}$S();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function XS(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return Ld("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Ro(l)}return ZS(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function A_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ld(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||s||WS()}}function Ro({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Wa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ZS(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),Y=H==null?null:H-y;y=H,p&&p({action:m,location:K.location,delta:Y})}function D(H,Y){m="PUSH";let te=Ld(K.location,H,Y);y=E()+1;let ee=A_(te,y),pe=K.createHref(te);try{f.pushState(ee,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(pe)}u&&p&&p({action:m,location:K.location,delta:1})}function M(H,Y){m="REPLACE";let te=Ld(K.location,H,Y);y=E();let ee=A_(te,y),pe=K.createHref(te);f.replaceState(ee,"",pe),u&&p&&p({action:m,location:K.location,delta:0})}function z(H){let Y=l.location.origin!=="null"?l.location.origin:l.location.href,te=typeof H=="string"?H:Ro(H);return te=te.replace(/ $/,"%20"),Je(Y,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,Y)}let K={get action(){return m},get location(){return r(l,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(T_,b),p=H,()=>{l.removeEventListener(T_,b),p=null}},createHref(H){return e(l,H)},createURL:z,encodeLocation(H){let Y=z(H);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:D,replace:M,go(H){return f.go(H)}};return K}function jv(r,e,n="/"){return JS(r,e,n,!1)}function JS(r,e,n,s){let l=typeof e=="string"?Wa(e):e,u=Qr(l.pathname||"/",n);if(u==null)return null;let f=Fv(r);e0(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=h0(u);m=u0(f[p],y,s)}return m}function Fv(r,e=[],n=[],s=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Qi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Fv(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:l0(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of Gv(u.path))l(u,f,p)}),e}function Gv(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=Gv(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function e0(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:o0(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var t0=/^:[\w-]+$/,n0=3,i0=2,r0=1,s0=10,a0=-2,S_=r=>r==="*";function l0(r,e){let n=r.split("/"),s=n.length;return n.some(S_)&&(s+=a0),e&&(s+=i0),n.filter(l=>!S_(l)).reduce((l,u)=>l+(t0.test(u)?n0:u===""?r0:s0),s)}function o0(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function u0(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),D=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:Qi([u,b.pathname]),pathnameBase:p0(Qi([u,b.pathnameBase])),route:D}),b.pathnameBase!=="/"&&(u=Qi([u,b.pathnameBase]))}return f}function Pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=c0(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},D)=>{if(E==="*"){let z=m[D]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const M=m[D];return b&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function c0(r,e=!1,n=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function h0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function f0(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Wa(r):r;return{pathname:n?n.startsWith("/")?n:d0(n,e):e,search:g0(s),hash:y0(l)}}function d0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ad(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m0(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function om(r){let e=m0(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function um(r,e,n,s=!1){let l;typeof r=="string"?l=Wa(r):(l={...r},Je(!l.pathname||!l.pathname.includes("?"),Ad("?","pathname","search",l)),Je(!l.pathname||!l.pathname.includes("#"),Ad("#","pathname","hash",l)),Je(!l.search||!l.search.includes("#"),Ad("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),b-=1;l.pathname=D.join("/")}m=b>=0?e[b]:"/"}let p=f0(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),p0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),g0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,y0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function _0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var v0=["GET",...Qv];new Set(v0);var Za=G.createContext(null);Za.displayName="DataRouter";var Jc=G.createContext(null);Jc.displayName="DataRouterState";var Kv=G.createContext({isTransitioning:!1});Kv.displayName="ViewTransition";var E0=G.createContext(new Map);E0.displayName="Fetchers";var T0=G.createContext(null);T0.displayName="Await";var Fn=G.createContext(null);Fn.displayName="Navigation";var Lo=G.createContext(null);Lo.displayName="Location";var di=G.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var cm=G.createContext(null);cm.displayName="RouteError";function A0(r,{relative:e}={}){Je(Ja(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Fn),{hash:l,pathname:u,search:f}=xo(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:l})}function Ja(){return G.useContext(Lo)!=null}function Zr(){return Je(Ja(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Lo).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(r){G.useContext(Fn).static||G.useLayoutEffect(r)}function hm(){let{isDataRoute:r}=G.useContext(di);return r?k0():S0()}function S0(){Je(Ja(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Za),{basename:e,navigator:n}=G.useContext(Fn),{matches:s}=G.useContext(di),{pathname:l}=Zr(),u=JSON.stringify(om(s)),f=G.useRef(!1);return $v(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Hn(f.current,Yv),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=um(p,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,l,r])}G.createContext(null);function xo(r,{relative:e}={}){let{matches:n}=G.useContext(di),{pathname:s}=Zr(),l=JSON.stringify(om(n));return G.useMemo(()=>um(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function b0(r,e){return Xv(r,e)}function Xv(r,e,n,s){var te;Je(Ja(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=G.useContext(Fn),{matches:f}=G.useContext(di),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";Wv(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let D=Zr(),M;if(e){let ee=typeof e=="string"?Wa(e):e;Je(E==="/"||((te=ee.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),M=ee}else M=D;let z=M.pathname||"/",K=z;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:jv(r,{pathname:K});Hn(b||H!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Hn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=D0(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Qi([E,l.encodeLocation?l.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Qi([E,l.encodeLocation?l.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?G.createElement(Lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function w0(){let r=P0(),e=_0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:l},n):null,f)}var R0=G.createElement(w0,null),I0=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(di.Provider,{value:this.props.routeContext},G.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C0({routeContext:r,match:e,children:n}){let s=G.useContext(Za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(di.Provider,{value:r},n)}function D0(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,D=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let b,D=!1,M=null,z=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||R0,f&&(m<0&&E===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,z=null):m===E&&(D=!0,z=y.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),H=()=>{let Y;return b?Y=M:D?Y=z:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(C0,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(I0,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function fm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O0(r){let e=G.useContext(Za);return Je(e,fm(r)),e}function N0(r){let e=G.useContext(Jc);return Je(e,fm(r)),e}function V0(r){let e=G.useContext(di);return Je(e,fm(r)),e}function dm(r){let e=V0(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function M0(){return dm("useRouteId")}function P0(){var s;let r=G.useContext(cm),e=N0("useRouteError"),n=dm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function k0(){let{router:r}=O0("useNavigate"),e=dm("useNavigate"),n=G.useRef(!1);return $v(()=>{n.current=!0}),G.useCallback(async(l,u={})=>{Hn(n.current,Yv),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var b_={};function Wv(r,e,n){!e&&!b_[r]&&(b_[r]=!0,Hn(!1,n))}G.memo(L0);function L0({routes:r,future:e,state:n}){return Xv(r,void 0,n,e)}function x0({to:r,replace:e,state:n,relative:s}){Je(Ja(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=G.useContext(Fn);Hn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(di),{pathname:f}=Zr(),m=hm(),p=um(r,om(u),f,s==="path"),y=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function xd(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U0({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){Je(!Ja(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Wa(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:D="default"}=n,M=G.useMemo(()=>{let z=Qr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:E,state:b,key:D},navigationType:s}},[f,p,y,E,b,D,s]);return Hn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:G.createElement(Fn.Provider,{value:m},G.createElement(Lo.Provider,{children:e,value:M}))}function z0({children:r,location:e}){return b0(Ud(r),e)}function Ud(r,e=[]){let n=[];return G.Children.forEach(r,(s,l)=>{if(!G.isValidElement(s))return;let u=[...e,l];if(s.type===G.Fragment){n.push.apply(n,Ud(s.props.children,u));return}Je(s.type===xd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ud(s.props.children,u)),n.push(f)}),n}var Ac="get",Sc="application/x-www-form-urlencoded";function eh(r){return r!=null&&typeof r.tagName=="string"}function B0(r){return eh(r)&&r.tagName.toLowerCase()==="button"}function q0(r){return eh(r)&&r.tagName.toLowerCase()==="form"}function H0(r){return eh(r)&&r.tagName.toLowerCase()==="input"}function j0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function F0(r,e){return r.button===0&&(!e||e==="_self")&&!j0(r)}var pc=null;function G0(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var Q0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sd(r){return r!=null&&!Q0.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):r}function K0(r,e){let n,s,l,u,f;if(q0(r)){let m=r.getAttribute("action");s=m?Qr(m,e):null,n=r.getAttribute("method")||Ac,l=Sd(r.getAttribute("enctype"))||Sc,u=new FormData(r)}else if(B0(r)||H0(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Qr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ac,l=Sd(r.getAttribute("formenctype"))||Sd(m.getAttribute("enctype"))||Sc,u=new FormData(m,r),!G0()){let{name:y,type:E,value:b}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,b)}}else{if(eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ac,s=null,l=Sc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function mm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Y0(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function X0(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await Y0(u,n);return f.links?f.links():[]}return[]}));return eb(s.flat(1).filter($0).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function w_(r,e,n,s,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function W0(r,e){return Z0(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Z0(r){return[...new Set(r)]}function J0(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function eb(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(J0(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function tb(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function nb(){let r=G.useContext(Za);return mm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ib(){let r=G.useContext(Jc);return mm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pm=G.createContext(void 0);pm.displayName="FrameworkContext";function Zv(){let r=G.useContext(pm);return mm(r,"You must render this element inside a <HydratedRouter> element"),r}function rb(r,e){let n=G.useContext(pm),[s,l]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,D=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Y=>{Y.forEach(te=>{f(te.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{l(!0)},z=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:po(m,M),onBlur:po(p,z),onMouseEnter:po(y,M),onMouseLeave:po(E,z),onTouchStart:po(b,M)}]:[!1,D,{}]}function po(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function sb({page:r,...e}){let{router:n}=nb(),s=G.useMemo(()=>jv(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(lb,{page:r,matches:s,...e}):null}function ab(r){let{manifest:e,routeModules:n}=Zv(),[s,l]=G.useState([]);return G.useEffect(()=>{let u=!1;return X0(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function lb({page:r,matches:e,...n}){let s=Zr(),{manifest:l,routeModules:u}=Zv(),{loaderData:f,matches:m}=ib(),p=G.useMemo(()=>w_(r,e,m,l,s,"data"),[r,e,m,l,s]),y=G.useMemo(()=>w_(r,e,m,l,s,"assets"),[r,e,m,l,s]),E=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,z=!1;if(e.forEach(H=>{var te;let Y=l.routes[H.route.id];!Y||!Y.hasLoader||(!p.some(ee=>ee.route.id===H.route.id)&&H.route.id in f&&((te=u[H.route.id])!=null&&te.shouldRevalidate)||Y.hasClientLoader?z=!0:M.add(H.route.id))}),M.size===0)return[];let K=tb(r);return z&&M.size>0&&K.searchParams.set("_routes",e.filter(H=>M.has(H.route.id)).map(H=>H.route.id).join(",")),[K.pathname+K.search]},[f,s,l,p,e,r,u]),b=G.useMemo(()=>W0(y,l),[y,l]),D=ab(y);return G.createElement(G.Fragment,null,E.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),b.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:z})=>G.createElement("link",{key:M,...z})))}function ob(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jv&&(window.__reactRouterVersion="7.1.5")}catch{}function ub({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=XS({window:n,v5Compat:!0}));let l=s.current,[u,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(U0,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...D},M){let{basename:z}=G.useContext(Fn),K=typeof y=="string"&&eE.test(y),H,Y=!1;if(typeof y=="string"&&K&&(H=y,Jv))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),P=Qr(I.pathname,z);I.origin===S.origin&&P!=null?y=P+I.search+I.hash:Y=!0}catch{Hn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=A0(y,{relative:l}),[ee,pe,ue]=rb(s,D),be=db(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:b});function V(S){e&&e(S),S.defaultPrevented||be(S)}let w=G.createElement("a",{...D,...ue,href:H||te,onClick:Y||u?e:V,ref:ob(M,pe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?G.createElement(G.Fragment,null,w,G.createElement(sb,{page:te})):w});tE.displayName="Link";var cb=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=xo(f,{relative:y.relative}),D=Zr(),M=G.useContext(Jc),{navigator:z,basename:K}=G.useContext(Fn),H=M!=null&&_b(b)&&m===!0,Y=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,te=D.pathname,ee=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&K&&(ee=Qr(ee,K)||ee);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=te===Y||!l&&te.startsWith(Y)&&te.charAt(pe)==="/",be=ee!=null&&(ee===Y||!l&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),V={isActive:ue,isPending:be,isTransitioning:H},w=ue?e:void 0,S;typeof s=="function"?S=s(V):S=[s,ue?"active":null,be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(V):u;return G.createElement(tE,{...y,"aria-current":w,className:S,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(V):p)});cb.displayName="NavLink";var hb=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Ac,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...D},M)=>{let z=gb(),K=yb(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&eE.test(m),te=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,ue=(pe==null?void 0:pe.getAttribute("formmethod"))||f;z(pe||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:M,method:H,action:K,onSubmit:s?p:te,...D,"data-discover":!Y&&r==="render"?"true":void 0})});hb.displayName="Form";function fb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(r){let e=G.useContext(Za);return Je(e,fb(r)),e}function db(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=hm(),p=Zr(),y=xo(r,{relative:u});return G.useCallback(E=>{if(F0(E,e)){E.preventDefault();let b=n!==void 0?n:Ro(p)===Ro(y);m(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,l,u,f])}var mb=0,pb=()=>`__${String(++mb)}__`;function gb(){let{router:r}=nE("useSubmit"),{basename:e}=G.useContext(Fn),n=M0();return G.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=K0(s,e);if(l.navigate===!1){let E=l.fetcherKey||pb();await r.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function yb(r,{relative:e}={}){let{basename:n}=G.useContext(Fn),s=G.useContext(di);Je(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...xo(r||".",{relative:e})},f=Zr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Ro(u)}function _b(r,e={}){let n=G.useContext(Kv);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nE("useViewTransitionState"),l=xo(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pc(l.pathname,f)!=null||Pc(l.pathname,u)!=null}new TextEncoder;var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},vb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(D=64)),s.push(n[E],n[b],n[D],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new Eb;const D=u<<2|m>>4;if(s.push(D),y!==64){const M=m<<4&240|y>>2;if(s.push(M),b!==64){const z=y<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(r){const e=iE(r);return rE.encodeByteArray(e,!0)},kc=function(r){return Tb(r).replace(/\./g,"")},sE=function(r){try{return rE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=()=>Ab().__FIREBASE_DEFAULTS__,bb=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sE(r[1]);return e&&JSON.parse(e)},th=()=>{try{return Sb()||bb()||wb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aE=r=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Rb=r=>{const e=aE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lE=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},oE=r=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kc(JSON.stringify(n)),kc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Ob(){var r;const e=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kb(){return!Ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lb(){try{return typeof indexedDB=="object"}catch{return!1}}function xb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ub,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?zb(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Zi(l,m,s)}}function zb(r,e){return r.replace(Bb,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Bb=/\{\$([^}]+)}/g;function qb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Lc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(I_(u)&&I_(f)){if(!Lc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function I_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hb(r,e){const n=new jb(r,e);return n.subscribe.bind(n)}class jb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Fb(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ib;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kb(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Qb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qb(r){return r===Vs?void 0:r}function Kb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const $b={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Xb=Ne.INFO,Wb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Zb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Wb[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=Xb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$b[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Jb=(r,e)=>e.some(n=>r instanceof n);let C_,D_;function ew(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,zd=new WeakMap,cE=new WeakMap,wd=new WeakMap,ym=new WeakMap;function nw(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(qr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&uE.set(n,r)}).catch(()=>{}),ym.set(e,r),e}function iw(r){if(zd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});zd.set(r,e)}let Bd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||cE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rw(r){Bd=r(Bd)}function sw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rd(this),e,...n);return cE.set(s,e.sort?e.sort():[e]),qr(s)}:tw().includes(r)?function(...e){return r.apply(Rd(this),e),qr(uE.get(this))}:function(...e){return qr(r.apply(Rd(this),e))}}function aw(r){return typeof r=="function"?sw(r):(r instanceof IDBTransaction&&iw(r),Jb(r,ew())?new Proxy(r,Bd):r)}function qr(r){if(r instanceof IDBRequest)return nw(r);if(wd.has(r))return wd.get(r);const e=aw(r);return e!==r&&(wd.set(r,e),ym.set(e,r)),e}const Rd=r=>ym.get(r);function lw(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ow=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],Id=new Map;function O_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=uw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ow.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Id.set(e,u),u}rw(r=>({...r,get:(e,n,s)=>O_(e,n)||r.get(e,n,s),has:(e,n)=>!!O_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qd="@firebase/app",N_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new gm("@firebase/app"),fw="@firebase/app-compat",dw="@firebase/analytics-compat",mw="@firebase/analytics",pw="@firebase/app-check-compat",gw="@firebase/app-check",yw="@firebase/auth",_w="@firebase/auth-compat",vw="@firebase/database",Ew="@firebase/data-connect",Tw="@firebase/database-compat",Aw="@firebase/functions",Sw="@firebase/functions-compat",bw="@firebase/installations",ww="@firebase/installations-compat",Rw="@firebase/messaging",Iw="@firebase/messaging-compat",Cw="@firebase/performance",Dw="@firebase/performance-compat",Ow="@firebase/remote-config",Nw="@firebase/remote-config-compat",Vw="@firebase/storage",Mw="@firebase/storage-compat",Pw="@firebase/firestore",kw="@firebase/vertexai",Lw="@firebase/firestore-compat",xw="firebase",Uw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",zw={[qd]:"fire-core",[fw]:"fire-core-compat",[mw]:"fire-analytics",[dw]:"fire-analytics-compat",[gw]:"fire-app-check",[pw]:"fire-app-check-compat",[yw]:"fire-auth",[_w]:"fire-auth-compat",[vw]:"fire-rtdb",[Ew]:"fire-data-connect",[Tw]:"fire-rtdb-compat",[Aw]:"fire-fn",[Sw]:"fire-fn-compat",[bw]:"fire-iid",[ww]:"fire-iid-compat",[Rw]:"fire-fcm",[Iw]:"fire-fcm-compat",[Cw]:"fire-perf",[Dw]:"fire-perf-compat",[Ow]:"fire-rc",[Nw]:"fire-rc-compat",[Vw]:"fire-gcs",[Mw]:"fire-gcs-compat",[Pw]:"fire-fst",[Lw]:"fire-fst-compat",[kw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,Bw=new Map,jd=new Map;function V_(r,e){try{r.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ha(r){const e=r.name;if(jd.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;jd.set(e,r);for(const n of xc.values())V_(n,r);for(const n of Bw.values())V_(n,r);return!0}function _m(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Uo("app","Firebase",qw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=Uw;function hE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(n||(n=lE()),!n)throw Hr.create("no-options");const u=xc.get(l);if(u){if(Lc(n,u.options)&&Lc(s,u.config))return u;throw Hr.create("duplicate-app",{appName:l})}const f=new Yb(l);for(const p of jd.values())f.addComponent(p);const m=new Hw(n,s,f);return xc.set(l,m),m}function fE(r=Hd){const e=xc.get(r);if(!e&&r===Hd&&lE())return hE();if(!e)throw Hr.create("no-app",{appName:r});return e}function jr(r,e,n){var s;let l=(s=zw[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}Ha(new xs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Fw=1,Io="firebase-heartbeat-store";let Cd=null;function dE(){return Cd||(Cd=lw(jw,Fw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Io)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function Gw(r){try{const n=(await dE()).transaction(Io),s=await n.objectStore(Io).get(mE(r));return await n.done,s}catch(e){if(e instanceof Zi)Yi.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(n.message)}}}async function M_(r,e){try{const s=(await dE()).transaction(Io,"readwrite");await s.objectStore(Io).put(e,mE(r)),await s.done}catch(n){if(n instanceof Zi)Yi.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(s.message)}}}function mE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1024,Kw=30*24*60*60*1e3;class Yw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Kw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:s,unsentEntries:l}=$w(this._heartbeatsCache.heartbeats),u=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yi.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function $w(r,e=Qw){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),k_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),k_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lb()?xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function k_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r){Ha(new xs("platform-logger",e=>new cw(e),"PRIVATE")),Ha(new xs("heartbeat",e=>new Yw(e),"PRIVATE")),jr(qd,N_,r),jr(qd,N_,"esm2017"),jr("fire-js","")}Ww("");function vm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zw=pE,gE=new Uo("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new gm("@firebase/auth");function Jw(r,...e){Uc.logLevel<=Ne.WARN&&Uc.warn(`Auth (${el}): ${r}`,...e)}function bc(r,...e){Uc.logLevel<=Ne.ERROR&&Uc.error(`Auth (${el}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...e){throw Tm(r,...e)}function qn(r,...e){return Tm(r,...e)}function Em(r,e,n){const s=Object.assign(Object.assign({},Zw()),{[e]:n});return new Uo("auth","Firebase",s).create(e,{appName:r.name})}function ks(r){return Em(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&hi(r,"argument-error"),Em(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return gE.create(r,...e)}function Ee(r,e,...n){if(!r)throw Tm(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw bc(e),new Error(e)}function $i(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function tR(){return L_()==="http:"||L_()==="https:"}function L_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tR()||Vb()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=Db()||Mb()}get(){return nR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Bo(3e4,6e4);function Sm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function tl(r,e,n,s,l={}){return _E(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=zo(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Nb()||(y.referrerPolicy="no-referrer"),yE.fetch()(vE(r,r.config.apiHost,n,m),y)})}async function _E(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},rR),e);try{const l=new lR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw gc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Em(r,E,y);hi(r,E)}}catch(l){if(l instanceof Zi)throw l;hi(r,"network-request-failed",{message:String(l)})}}async function aR(r,e,n,s,l={}){const u=await tl(r,e,n,s,l);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function vE(r,e,n,s){const l=`${e}${n}?${s}`;return r.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`}class lR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),sR.get())})}}function gc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=qn(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,e){return tl(r,"POST","/v1/accounts:delete",e)}async function EE(r,e){return tl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uR(r,e=!1){const n=nn(r),s=await n.getIdToken(e),l=bm(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Eo(Dd(l.auth_time)),issuedAtTime:Eo(Dd(l.iat)),expirationTime:Eo(Dd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function bm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(n);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function x_(r){const e=bm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&cR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function cR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var e;const n=r.auth,s=await r.getIdToken(),l=await Co(r,EE(n,{idToken:s}));Ee(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?TE(u.providerUserInfo):[],m=dR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function fR(r){const e=nn(r);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dR(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function TE(r){return r.map(e=>{var{providerId:n}=e,s=vm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(r,e){const n=await _E(r,{},async()=>{const s=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=vE(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",yE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pR(r,e){return tl(r,"POST","/v2/accounts:revokeToken",Sm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=x_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await mR(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Ua;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uR(this,e)}reload(){return fR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Co(this,oR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,m,p,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,te=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:pe,isAnonymous:ue,providerData:be,stsTokenManager:V}=n;Ee(ee&&V,e,"internal-error");const w=Ua.fromJSON(this.name,V);Ee(typeof ee=="string",e,"internal-error"),Lr(b,e.name),Lr(D,e.name),Ee(typeof pe=="boolean",e,"internal-error"),Ee(typeof ue=="boolean",e,"internal-error"),Lr(M,e.name),Lr(z,e.name),Lr(K,e.name),Lr(H,e.name),Lr(Y,e.name),Lr(te,e.name);const S=new Fi({uid:ee,auth:e,email:D,emailVerified:pe,displayName:b,isAnonymous:ue,photoURL:z,phoneNumber:M,tenantId:K,stsTokenManager:w,createdAt:Y,lastLoginAt:te});return be&&Array.isArray(be)&&(S.providerData=be.map(I=>Object.assign({},I))),H&&(S._redirectEventId=H),S}static async _fromIdTokenResponse(e,n,s=!1){const l=new Ua;l.updateFromServerResponse(n);const u=new Fi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await zc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?TE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new Ua;m.updateFromIdToken(s);const p=new Fi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function Gi(r){$i(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AE.type="NONE";const z_=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,e,n){return`firebase:${r}:${e}:${n}`}class za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=wc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new za(Gi(z_),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Gi(z_);const f=wc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const b=Fi._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(DE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(IE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function SE(r=$t()){return/firefox\//i.test(r)}function bE(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(r=$t()){return/crios\//i.test(r)}function RE(r=$t()){return/iemobile/i.test(r)}function IE(r=$t()){return/android/i.test(r)}function CE(r=$t()){return/blackberry/i.test(r)}function DE(r=$t()){return/webos/i.test(r)}function wm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gR(r=$t()){var e;return wm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yR(){return Pb()&&document.documentMode===10}function OE(r=$t()){return wm(r)||IE(r)||DE(r)||CE(r)||/windows phone/i.test(r)||RE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r,e=[]){let n;switch(r){case"Browser":n=B_($t());break;case"Worker":n=`${B_($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(r,e={}){return tl(r,"GET","/v2/passwordPolicy",Sm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=6;class TR{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ER,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new _R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await EE(this,{idToken:e}),s=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(ks(this));const n=e?nn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vR(this),n=new TR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Jw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nh(r){return nn(r)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hb(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(r){Rm=r}function bR(r){return Rm.loadJS(r)}function wR(){return Rm.gapiScript}function RR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r,e){const n=_m(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Lc(u,e??{}))return l;hi(l,"already-initialized")}return n.initialize({options:e})}function CR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DR(r,e,n){const s=nh(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=VE(e),{host:f,port:m}=OR(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),NR()}function VE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OR(r){const e=VE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:H_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:H_(f)}}}function H_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function NR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,e){return aR(r,"POST","/v1/accounts:signInWithIdp",Sm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="http://localhost";class Us extends ME{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=vm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Us(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ba(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends qo{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends qo{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends qo{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Fi._fromIdTokenResponse(e,s,l),f=j_(s);return new ja({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=j_(s);return new ja({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function j_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Zi{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Bc(e,n,s,l)}}function PE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,u,e,s):u})}async function MR(r,e,n=!1){const s=await Co(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ja._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r,e,n=!1){const{auth:s}=r;if(Hi(s.app))return Promise.reject(ks(s));const l="reauthenticate";try{const u=await Co(r,PE(s,l,e,r),n);Ee(u.idToken,s,"internal-error");const f=bm(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ja._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e,n=!1){if(Hi(r.app))return Promise.reject(ks(r));const s="signIn",l=await PE(r,s,e),u=await ja._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function LR(r,e,n,s){return nn(r).onIdTokenChanged(e,n,s)}function xR(r,e,n){return nn(r).beforeAuthStateChanged(e,n)}function UR(r,e,n,s){return nn(r).onAuthStateChanged(e,n,s)}function zR(r){return nn(r).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e3,qR=10;class LE extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);yR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qR):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LE.type="LOCAL";const HR=LE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xE.type="SESSION";const UE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await jR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Cm("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(b){const D=b;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function GR(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function YR(){return zE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",$R=1,Hc="firebaseLocalStorage",qE="fbase_key";class Ho{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(r,e){return r.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function XR(){const r=indexedDB.deleteDatabase(BE);return new Ho(r).toPromise()}function Qd(){const r=indexedDB.open(BE,$R);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hc,{keyPath:qE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hc)?e(s):(s.close(),await XR(),e(await Qd()))})})}async function F_(r,e,n){const s=rh(r,!0).put({[qE]:e,value:n});return new Ho(s).toPromise()}async function WR(r,e){const n=rh(r,!1).get(e),s=await new Ho(n).toPromise();return s===void 0?null:s.value}function G_(r,e){const n=rh(r,!0).delete(e);return new Ho(n).toPromise()}const ZR=800,JR=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(YR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new FR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await F_(e,qc,"1"),await G_(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>F_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>WR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=rh(l,!1).getAll();return new Ho(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const e1=HE;new Bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r,e){return e?Gi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends ME{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t1(r){return kR(r.auth,new Dm(r),r.bypassAuthState)}function n1(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),PR(n,new Dm(r),r.bypassAuthState)}async function i1(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),MR(n,new Dm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t1;case"linkViaPopup":case"linkViaRedirect":return i1;case"reauthViaPopup":case"reauthViaRedirect":return n1;default:hi(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Bo(2e3,1e4);async function s1(r,e,n){if(Hi(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=nh(r);eR(r,e,Im);const l=jE(s,n);return new Ms(s,"signInViaPopup",e,l).executeNotNull()}class Ms extends FE{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r1.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="pendingRedirect",Rc=new Map;class l1 extends FE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const s=await o1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o1(r,e){const n=h1(e),s=c1(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function u1(r,e){Rc.set(r._key(),e)}function c1(r){return Gi(r._redirectPersistence)}function h1(r){return wc(a1,r.config.apiKey,r.name)}async function f1(r,e,n=!1){if(Hi(r.app))return Promise.reject(ks(r));const s=nh(r),l=jE(s,e),f=await new l1(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=10*60*1e3;class m1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!GE(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(e))}saveEventToCache(e){this.cachedEventUids.add(Q_(e)),this.lastProcessedEventTime=Date.now()}}function Q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function GE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r,e={}){return tl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_1=/^https?/;async function v1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await g1(r);for(const n of e)try{if(E1(n))return}catch{}hi(r,"unauthorized-domain")}function E1(r){const e=Fd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!_1.test(n))return!1;if(y1.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Bo(3e4,6e4);function K_(){const r=oi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function A1(r){return new Promise((e,n)=>{var s,l,u;function f(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(qn(r,"network-request-failed"))},timeout:T1.get()})}if(!((l=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=oi().gapi)===null||u===void 0)&&u.load)f();else{const m=RR("iframefcb");return oi()[m]=()=>{gapi.load?f():n(qn(r,"network-request-failed"))},bR(`${wR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function S1(r){return Ic=Ic||A1(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Bo(5e3,15e3),w1="__/auth/iframe",R1="emulator/auth/iframe",I1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D1(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Am(e,R1):`https://${r.config.authDomain}/${w1}`,s={apiKey:e.apiKey,appName:r.name,v:el},l=C1.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${zo(s).slice(1)}`}async function O1(r){const e=await S1(r),n=oi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:D1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I1,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=qn(r,"network-request-failed"),m=oi().setTimeout(()=>{u(f)},b1.get());function p(){oi().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V1=500,M1=600,P1="_blank",k1="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L1(r,e,n,s=V1,l=M1){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},N1),{width:s.toString(),height:l.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=wE(y)?P1:n),SE(y)&&(e=e||k1,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[M,z])=>`${D}${M}=${z},`,"");if(gR(y)&&m!=="_self")return x1(e||"",m),new Y_(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new Y_(b)}function x1(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="__/auth/handler",z1="emulator/auth/handler",B1=encodeURIComponent("fac");async function $_(r,e,n,s,l,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:el,eventId:l};if(e instanceof Im){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",qb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof qo){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${B1}=${encodeURIComponent(p)}`:"";return`${q1(r)}?${zo(m).slice(1)}${y}`}function q1({config:r}){return r.emulator?Am(r,z1):`https://${r.authDomain}/${U1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class H1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=f1,this._overrideRedirectResult=u1}async _openPopup(e,n,s,l){var u;$i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $_(e,n,s,Fd(),l);return L1(e,f,Cm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await $_(e,n,s,Fd(),l);return GR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):($i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await O1(e),s=new m1(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Od];f!==void 0&&n(!!f),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OE()||bE()||wm()}}const j1=H1;var X_="@firebase/auth",W_="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q1(r){Ha(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(r)},y=new AR(s,l,u,p);return CR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new xs("auth-internal",e=>{const n=nh(e.getProvider("auth").getImmediate());return(s=>new F1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(X_,W_,G1(r)),jr(X_,W_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=5*60,Y1=oE("authIdTokenMaxAge")||K1;let Z_=null;const $1=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Y1)return;const l=n==null?void 0:n.token;Z_!==l&&(Z_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function X1(r=fE()){const e=_m(r,"auth");if(e.isInitialized())return e.getImmediate();const n=IR(r,{popupRedirectResolver:j1,persistence:[e1,HR,UE]}),s=oE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$1(u.toString());xR(n,f,()=>f(n.currentUser)),LR(n,m=>f(m))}}const l=aE("auth");return l&&DR(n,`http://${l}`),n}function W1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=qn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",W1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q1("Browser");var Z1="firebase",J1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(Z1,J1,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,QE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function S(){}S.prototype=w.prototype,V.D=w.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(I,P,U){for(var C=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)C[vt-2]=arguments[vt];return w.prototype[P].apply(I,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)I[P]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(P=0;16>P;++P)I[P]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=V.g[0],S=V.g[1],P=V.g[2];var U=V.g[3],C=w+(U^S&(P^U))+I[0]+3614090360&4294967295;w=S+(C<<7&4294967295|C>>>25),C=U+(P^w&(S^P))+I[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(S^U&(w^S))+I[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=S+(w^P&(U^w))+I[3]+3250441966&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(U^S&(P^U))+I[4]+4118548399&4294967295,w=S+(C<<7&4294967295|C>>>25),C=U+(P^w&(S^P))+I[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(S^U&(w^S))+I[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=S+(w^P&(U^w))+I[7]+4249261313&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(U^S&(P^U))+I[8]+1770035416&4294967295,w=S+(C<<7&4294967295|C>>>25),C=U+(P^w&(S^P))+I[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(S^U&(w^S))+I[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=S+(w^P&(U^w))+I[11]+2304563134&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(U^S&(P^U))+I[12]+1804603682&4294967295,w=S+(C<<7&4294967295|C>>>25),C=U+(P^w&(S^P))+I[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(S^U&(w^S))+I[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=S+(w^P&(U^w))+I[15]+1236535329&4294967295,S=P+(C<<22&4294967295|C>>>10),C=w+(P^U&(S^P))+I[1]+4129170786&4294967295,w=S+(C<<5&4294967295|C>>>27),C=U+(S^P&(w^S))+I[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(U^w))+I[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=S+(U^w&(P^U))+I[0]+3921069994&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(S^P))+I[5]+3593408605&4294967295,w=S+(C<<5&4294967295|C>>>27),C=U+(S^P&(w^S))+I[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(U^w))+I[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=S+(U^w&(P^U))+I[4]+3889429448&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(S^P))+I[9]+568446438&4294967295,w=S+(C<<5&4294967295|C>>>27),C=U+(S^P&(w^S))+I[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(U^w))+I[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=S+(U^w&(P^U))+I[8]+1163531501&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(S^P))+I[13]+2850285829&4294967295,w=S+(C<<5&4294967295|C>>>27),C=U+(S^P&(w^S))+I[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^S&(U^w))+I[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=S+(U^w&(P^U))+I[12]+2368359562&4294967295,S=P+(C<<20&4294967295|C>>>12),C=w+(S^P^U)+I[5]+4294588738&4294967295,w=S+(C<<4&4294967295|C>>>28),C=U+(w^S^P)+I[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^S)+I[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=S+(P^U^w)+I[14]+4259657740&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^U)+I[1]+2763975236&4294967295,w=S+(C<<4&4294967295|C>>>28),C=U+(w^S^P)+I[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^S)+I[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=S+(P^U^w)+I[10]+3200236656&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^U)+I[13]+681279174&4294967295,w=S+(C<<4&4294967295|C>>>28),C=U+(w^S^P)+I[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^S)+I[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=S+(P^U^w)+I[6]+76029189&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(S^P^U)+I[9]+3654602809&4294967295,w=S+(C<<4&4294967295|C>>>28),C=U+(w^S^P)+I[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^S)+I[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=S+(P^U^w)+I[2]+3299628645&4294967295,S=P+(C<<23&4294967295|C>>>9),C=w+(P^(S|~U))+I[0]+4096336452&4294967295,w=S+(C<<6&4294967295|C>>>26),C=U+(S^(w|~P))+I[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~S))+I[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=S+(U^(P|~w))+I[5]+4237533241&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~U))+I[12]+1700485571&4294967295,w=S+(C<<6&4294967295|C>>>26),C=U+(S^(w|~P))+I[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~S))+I[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=S+(U^(P|~w))+I[1]+2240044497&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~U))+I[8]+1873313359&4294967295,w=S+(C<<6&4294967295|C>>>26),C=U+(S^(w|~P))+I[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~S))+I[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=S+(U^(P|~w))+I[13]+1309151649&4294967295,S=P+(C<<21&4294967295|C>>>11),C=w+(P^(S|~U))+I[4]+4149444226&4294967295,w=S+(C<<6&4294967295|C>>>26),C=U+(S^(w|~P))+I[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~S))+I[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=S+(U^(P|~w))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var S=w-this.blockSize,I=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=S;)l(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<w;)if(I[P++]=V.charCodeAt(U++),P==this.blockSize){l(this,I),P=0;break}}else for(;U<w;)if(I[P++]=V[U++],P==this.blockSize){l(this,I),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var S=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=S&255,S/=256;for(this.u(V),V=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)V[S++]=this.g[w]>>>I&255;return V};function u(V,w){var S=m;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=w(V)}function f(V,w){this.h=w;for(var S=[],I=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;I&&U==w||(S[P]=U,I=!1)}this.g=S}var m={};function p(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return H(y(-V));for(var w=[],S=1,I=0;V>=S;I++)w[I]=V/S|0,S*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return H(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),I=b,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),C=parseInt(V.substring(P,P+U),w);8>U?(U=y(Math.pow(w,U)),I=I.j(U).add(y(C))):(I=I.j(S),I=I.add(y(C)))}return I}var b=p(0),D=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-H(this).m();for(var V=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);V+=(0<=I?I:4294967296+I)*w,w*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(z(this))return"0";if(K(this))return"-"+H(this).toString(V);for(var w=y(Math.pow(V,6)),S=this,I="";;){var P=pe(S,w).g;S=Y(S,P.j(w));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=P,z(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function z(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=Y(this,V),K(V)?-1:z(V)?0:1};function H(V){for(var w=V.g.length,S=[],I=0;I<w;I++)S[I]=~V.g[I];return new f(S,~V.h).add(D)}r.abs=function(){return K(this)?H(this):this},r.add=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0,P=0;P<=w;P++){var U=I+(this.i(P)&65535)+(V.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);I=C>>>16,U&=65535,C&=65535,S[P]=C<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function Y(V,w){return V.add(H(w))}r.j=function(V){if(z(this)||z(V))return b;if(K(this))return K(V)?H(this).j(H(V)):H(H(this).j(V));if(K(V))return H(this.j(H(V)));if(0>this.l(M)&&0>V.l(M))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<V.g.length;P++){var U=this.i(I)>>>16,C=this.i(I)&65535,vt=V.i(P)>>>16,ft=V.i(P)&65535;S[2*I+2*P]+=C*ft,te(S,2*I+2*P),S[2*I+2*P+1]+=U*ft,te(S,2*I+2*P+1),S[2*I+2*P+1]+=C*vt,te(S,2*I+2*P+1),S[2*I+2*P+2]+=U*vt,te(S,2*I+2*P+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function te(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function ee(V,w){this.g=V,this.h=w}function pe(V,w){if(z(w))throw Error("division by zero");if(z(V))return new ee(b,b);if(K(V))return w=pe(H(V),w),new ee(H(w.g),H(w.h));if(K(w))return w=pe(V,H(w)),new ee(H(w.g),w.h);if(30<V.g.length){if(K(V)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var S=D,I=w;0>=I.l(V);)S=ue(S),I=ue(I);var P=be(S,1),U=be(I,1);for(I=be(I,2),S=be(S,2);!z(I);){var C=U.add(I);0>=C.l(V)&&(P=P.add(S),U=C),I=be(I,1),S=be(S,1)}return w=Y(V,P.j(w)),new ee(P,w)}for(P=b;0<=V.l(w);){for(S=Math.max(1,Math.floor(V.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=y(S),C=U.j(w);K(C)||0<C.l(V);)S-=I,U=y(S),C=U.j(w);z(U)&&(U=D),P=P.add(U),V=Y(V,C)}return new ee(P,V)}r.A=function(V){return pe(this,V).h},r.and=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&V.i(I);return new f(S,this.h&V.h)},r.or=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|V.i(I);return new f(S,this.h|V.h)},r.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^V.i(I);return new f(S,this.h^V.h)};function ue(V){for(var w=V.g.length+1,S=[],I=0;I<w;I++)S[I]=V.i(I)<<1|V.i(I-1)>>>31;return new f(S,V.h)}function be(V,w){var S=w>>5;w%=32;for(var I=V.g.length-S,P=[],U=0;U<I;U++)P[U]=0<w?V.i(U+S)>>>w|V.i(U+S+1)<<32-w:V.i(U+S);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,QE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Fr=f}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,go,YE,Cc,Kd,$E,XE,WE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var x=c[A];if(!(x in _))break e;_=_[x]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,x={next:function(){if(!A&&_<c.length){var j=_++;return{value:g(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,A),c.apply(g,x)}}return function(){return c.apply(g,arguments)}}function D(c,g,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,D.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,x,j){for(var ne=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ne[ke-2]=arguments[ke];return g.prototype[x].apply(A,ne)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function H(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const x=c.length||0,j=A.length||0;c.length=x+j;for(let ne=0;ne<j;ne++)c[x+ne]=A[ne]}else c.push(A)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let _,A;for(let x=1;x<arguments.length;x++){A=arguments[x];for(_ in A)c[_]=A[_];for(let j=0;j<S.length;j++)_=S[j],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class vt{constructor(){this.h=this.g=null}add(g,_){const A=ft.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new Y(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,de=!1,je=new vt,O=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(J)}};var J=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var g=ft;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ie(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{pe(g.nodeName);var x=!0;break e}catch{}x=!1}x||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}z(Ie,re);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function rt(c,g,_,A,x){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=x,this.key=++ze,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,g,_,A,x){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var ne=gn(c,g,A,x);return-1<ne?(g=c[ne],_||(g.fa=!1)):(g=new rt(g,this.src,j,!!A,x),g.fa=_,c.push(g)),g};function mi(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],x=Array.prototype.indexOf.call(A,g,void 0),j;(j=0<=x)&&Array.prototype.splice.call(A,x,1),j&&(Qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function gn(c,g,_,A){for(var x=0;x<c.length;++x){var j=c[x];if(!j.da&&j.listener==g&&j.capture==!!_&&j.ha==A)return x}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),er={};function pi(c,g,_,A,x){if(Array.isArray(g)){for(var j=0;j<g.length;j++)pi(c,g[j],_,A,x);return null}return _=Yo(_),c&&c[dt]?c.K(g,_,y(A)?!!A.capture:!1,x):ll(c,g,_,!1,A,x)}function ll(c,g,_,A,x,j){if(!g)throw Error("Invalid event type");var ne=y(x)?!!x.capture:!!x,ke=ol(c);if(ke||(c[Ji]=ke=new Xt(c)),_=ke.add(g,_,A,ne,j),_.proxy)return _;if(A=Fs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)se||(x=ne),x===void 0&&(x=!1),c.addEventListener(g.toString(),A,x);else if(c.attachEvent)c.attachEvent(Qs(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function c(_){return g.call(c.src,c.listener,_)}const g=_h;return c}function Gs(c,g,_,A,x){if(Array.isArray(g))for(var j=0;j<g.length;j++)Gs(c,g[j],_,A,x);else A=y(A)?!!A.capture:!!A,_=Yo(_),c&&c[dt]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],_=gn(j,_,A,x),-1<_&&(Qe(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=ol(c))&&(g=c.g[g.toString()],c=-1,g&&(c=gn(g,_,A,x)),(_=-1<c?g[c]:null)&&es(_))}function es(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[dt])mi(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Qs(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=ol(g))?(mi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):Qe(c)}}}function Qs(c){return c in er?er[c]:er[c]="on"+c}function _h(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&es(c),c=_.call(A,g)}return c}function ol(c){return c=c[Ji],c instanceof Xt?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(g){return c.handleEvent(g)}),c[rn])}function Et(){he.call(this),this.i=new Xt(this),this.M=this,this.F=null}z(Et,he),Et.prototype[dt]=!0,Et.prototype.removeEventListener=function(c,g,_,A){Gs(this,c,g,_,A)};function Ct(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var x=g;g=new re(A,c),I(g,x)}if(x=!0,_)for(var j=_.length-1;0<=j;j--){var ne=g.g=_[j];x=gi(ne,A,!0,g)&&x}if(ne=g.g=c,x=gi(ne,A,!0,g)&&x,x=gi(ne,A,!1,g)&&x,_)for(j=0;j<_.length;j++)ne=g.g=_[j],x=gi(ne,A,!1,g)&&x}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Qe(_[A]);delete c.g[g],c.h--}}this.F=null},Et.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Et.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function gi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var x=!0,j=0;j<g.length;++j){var ne=g[j];if(ne&&!ne.da&&ne.capture==_){var ke=ne.listener,At=ne.ha||ne.src;ne.fa&&mi(c.i,ne),x=ke.call(At,A)!==!1&&x}}return x&&!A.defaultPrevented}function $o(c,g,_){if(typeof c=="function")_&&(c=D(c,_));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ul(c){c.g=$o(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class vh extends he{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){he.call(this),this.h=c,this.g={}}z(ts,he);var tr=[];function jt(c){be(c.g,function(g,_){this.g.hasOwnProperty(_)&&es(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),jt(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=m.JSON.stringify,Gn=m.JSON.parse,Wt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function hl(){}hl.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Wo(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){re.call(this,"d")}z(nr,re);function Pn(){re.call(this,"c")}z(Pn,re);var yn={},ir=null;function Ks(){return ir=ir||new Et}yn.La="serverreachability";function fl(c){re.call(this,yn.La,c)}z(fl,re);function rr(c){const g=Ks();Ct(g,new fl(g))}yn.STAT_EVENT="statevent";function Ys(c,g){re.call(this,yn.STAT_EVENT,c),this.stat=g}z(Ys,re);function ut(c){const g=Ks();Ct(g,new Ys(g,c))}yn.Ma="timingevent";function Zo(c,g){re.call(this,yn.Ma,c),this.size=g}z(Zo,re);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function Jo(c,g,_,A,x,j){c.info(function(){if(c.g)if(j)for(var ne="",ke=j.split("&"),At=0;At<ke.length;At++){var Le=ke[At].split("=");if(1<Le.length){var Nt=Le[0];Le=Le[1];var St=Nt.split("_");ne=2<=St.length&&St[1]=="type"?ne+(Nt+"="+Le+"&"):ne+(Nt+"=redacted&")}}else ne=null;else ne=j;return"XMLHTTP REQ ("+A+") [attempt "+x+"]: "+g+`
`+_+`
`+ne})}function eu(c,g,_,A,x,j,ne){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+x+"]: "+g+`
`+_+`
`+j+" "+ne})}function lr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dt(c,_)+(A?" "+A:"")})}function Kn(c,g){c.info(function(){return"TIMEOUT: "+g})}ar.prototype.info=function(){};function Dt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var x=A[1];if(Array.isArray(x)&&!(1>x.length)){var j=x[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ne=1;ne<x.length;ne++)x[ne]=""}}}}return cl(_)}catch{return g}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ns;function $s(){}z($s,hl),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},ns=new $s;function Yn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var or={},is={};function kn(c,g,_){c.L=1,c.v=as(st(g)),c.m=_,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),et(c),c.A=st(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ti(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dl,c.g=mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new vh(D(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(tr[0]=x.toString()),x=tr);for(var j=0;j<x.length;j++){var ne=pi(_,x[j],A||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rr(),Jo(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const St=An(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||St!=4||g==7||(g==8||0>=wi?rr(3):rr(2)),Xs(this);var _=this.g.Z();this.X=_;t:if(ur(this)){var A=au(this.g);c="";var x=A.length,j=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),on(this);var ne="";break t}this.h.i=new m.TextDecoder}for(g=0;g<x;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(j&&g==x-1)});A.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,eu(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,At=this.g;if((ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ke)){var Le=ke;break t}}Le=null}if(_=Le)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,_);else{this.o=!1,this.s=3,ut(12),sn(this),on(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<ne.length;)if(Lt=cr(this,ne),Lt==is){St==4&&(this.s=4,ut(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==or){this.s=4,ut(15),lr(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,Lt,null),un(this,Lt);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ne.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,ne,"[Invalid Chunked Response]"),sn(this),on(this);else if(0<ne.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ds(Nt),Nt.M=!0,ut(11))}}else lr(this.i,this.l,ne,null),un(this,ne);St==4&&sn(this),this.o&&!this.J&&(St==4?hu(this.j,this):(this.o=!1,et(this)))}else wh(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),sn(this),on(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cr(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?is:(_=Number(g.substring(_,A)),isNaN(_)?or:(A+=1,A+_>g.length?is:(g=g.slice(A,A+_),c.C=A+_,g)))}Yn.prototype.cancel=function(){this.J=!0,sn(this)};function et(c){c.S=Date.now()+c.I,ml(c,c.I)}function ml(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(D(c.ba,c),g)}function Xs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Kn(this.i,this.A),this.L!=2&&(rr(),ut(17)),sn(this),this.s=2,on(this)):ml(this,this.S-c)};function on(c){c.j.G==0||c.J||hu(c.j,c)}function sn(c){Xs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,jt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function un(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var x=A;if(x[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)aa(_),ra(_);else break e;wl(_),ut(18)}}else _.za=x[1],0<_.za-_.T&&37500>x[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(D(_.Za,_),6e3));if(1>=tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&aa(_),!te(g))for(x=_.Da.g.parse(g),g=0;g<x.length;g++){let Le=x[g];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Nt=Le[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const St=Le[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const wi=Le[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Lt=c.g;if(Lt){const ti=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var j=A.h;j.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fr(j,j.h),j.h=null))}if(A.D){const Il=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(A.ya=Il,Be(A.I,A.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ne=c;if(A.qa=du(A,A.J?A.ia:null,A.W),ne.K){_n(A.h,ne);var ke=ne,At=A.L;At&&(ke.I=At),ke.B&&(Xs(ke),et(ke)),A.g=ne}else uu(A);0<_.i.length&&sa(_)}else Le[0]!="stop"&&Le[0]!="close"||bi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?bi(_,7):Sl(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}rr(4)}catch{}}var Eh=class{constructor(c,g){this.g=c,this.map=g}};function pl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tu(c){return c.h?1:c.g?c.g.size:0}function hr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fr(c,g){c.g?c.g.add(g):c.h=g}function _n(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}pl.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Th(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function rs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Th(c),A=nu(c),x=A.length,j=0;j<x;j++)g.call(void 0,A[j],_&&_[j],c)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),x=null;if(0<=A){var j=c[_].substring(0,A);x=c[_].substring(A+1)}else j=c[_];g(j,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,ss(this,c.s),this.l=c.l;var g=c.i,_=new $n;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zs(this,_),this.m=c.m}else c&&(g=String(c).match(yl))?(this.h=!1,dr(this,g[1]||"",!0),this.o=mr(g[2]||""),this.g=mr(g[3]||"",!0),ss(this,g[4]),this.l=mr(g[5]||"",!0),Zs(this,g[6]||"",!0),this.m=mr(g[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vn(g,_l,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vn(g,_l,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vn(_,_.charAt(0)=="/"?vl:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vn(_,bh)),c.join("")};function st(c){return new vi(c)}function dr(c,g,_){c.j=_?mr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ss(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Zs(c,g,_){g instanceof $n?(c.i=g,El(c.i,c.h)):(_||(g=vn(g,Sh)),c.i=new $n(g,c.h))}function Be(c,g,_){c.i.set(g,_)}function as(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Ah),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ah(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,iu=/[#\?:]/g,vl=/[#\?]/g,Sh=/[#\?@]/g,bh=/#/g;function $n(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Ws(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=$n.prototype,r.add=function(c,g){En(this),this.i=null,c=Ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Js(c,g){En(c),g=Ai(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ei(c,g){return En(c),g=Ai(c,g),c.g.has(g)}r.forEach=function(c,g){En(this),this.g.forEach(function(_,A){_.forEach(function(x){c.call(g,x,A,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const x=c[A];for(let j=0;j<x.length;j++)_.push(g[A])}return _},r.V=function(c){En(this);let g=[];if(typeof c=="string")Ei(this,c)&&(g=g.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return En(this),this.i=null,c=Ai(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ti(c,g,_){Js(c,g),0<_.length&&(c.i=null,c.g.set(Ai(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const j=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var x=j;ne[A]!==""&&(x+="="+encodeURIComponent(String(ne[A]))),c.push(x)}}return this.i=c.join("&")};function Ai(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function El(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,A){var x=A.toLowerCase();A!=x&&(Js(this,A),Ti(this,x,_))},c)),c.j=g}function ru(c,g){const _=new ar;if(m.Image){const A=new Image;A.onload=M(Tn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=M(Tn,_,"TestLoadImage: error",!1,g,A),A.onabort=M(Tn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=M(Tn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function ls(c,g){const _=new ar,A=new AbortController,x=setTimeout(()=>{A.abort(),Tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(x),j.ok?Tn(_,"TestPingServer: ok",!0,g):Tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(x),Tn(_,"TestPingServer: error",!1,g)})}function Tn(c,g,_,A,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),A(_)}catch{}}function os(){this.g=new Wt}function Xn(c,g,_){const A=_||"";try{rs(c,function(x,j){let ne=x;y(x)&&(ne=cl(x)),g.push(A+j+"="+encodeURIComponent(ne))})}catch(x){throw g.push(A+"type="+encodeURIComponent("_badmap")),x}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(pr,hl),pr.prototype.g=function(){return new Si(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Si(c,g){Et.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Si,Et),r=Si.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):Zn(this),this.readyState==3&&Tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Al(c){let g="";return be(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ot(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Al(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,g,_))}function Fe(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Fe,Et);var ea=/^https?$/i,us=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ns.g(),this.v=this.o?Xo(this.o):Xo(ns),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){su(this,j);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var x in A)_.set(x,A[x]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),x=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(us,g,void 0))||A||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ne]of _)this.g.setRequestHeader(j,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){su(this,j)}};function su(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ta(c),Jn(c)}function ta(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)$o(c.Ea,0,c);else if(Ct(c,"readystatechange"),An(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=ne===0){var x=String(c.D).match(yl)[1]||null;!x&&m.self&&m.self.location&&(x=m.self.location.protocol.slice(0,-1)),A=!ea.test(x?x.toLowerCase():"")}_=A}if(_)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var j=2<An(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",ta(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){cs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ct(c,"ready");try{_.onreadystatechange=A}catch{}}}function cs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gn(g)}};function au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(te(c[A]))continue;var _=P(c[A]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=g[x]||[];g[x]=j,j.push(_)}V(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ia(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,c),this.cb=hs("retryDelaySeedMs",1e4,c),this.Wa=hs("forwardChannelMaxRetries",2,c),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pl(c&&c.concurrentRequestLimit),this.Da=new os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){ut(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),sa(this)};function Sl(c){if(lu(c),c.G==3){var g=c.U++,_=st(c.I);if(Be(_,"SID",c.K),Be(_,"RID",g),Be(_,"TYPE","terminate"),fs(c,_),g=new Yn(c,c.j,g),g.L=2,g.v=as(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),et(g)}fu(c)}function ra(c){c.g&&(ds(c),c.g.cancel(),c.g=null)}function lu(c){ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function sa(c){if(!gl(c.h)&&!c.s){c.s=!0;var g=c.Ga;ye||O(),de||(ye(),de=!0),je.add(g,c),c.B=0}}function Rh(c,g){return tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(D(c.Ga,c,g),Rl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const x=new Yn(this,this.j,c);let j=this.o;if(this.S&&(j?(j=w(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(x.H=j,j=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ou(this,x,g),_=st(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),fs(this,_),j&&(this.O?g="headers="+encodeURIComponent(String(Al(j)))+"&"+g:this.m&&Ot(_,this.m,j)),fr(this.h,x),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",g),Be(_,"SID","null"),x.T=!0,kn(x,_,null)):kn(x,_,g),this.G=2}}else this.G==3&&(c?bl(this,c):this.i.length==0||gl(this.h)||bl(this))};function bl(c,g){var _;g?_=g.l:_=c.U++;const A=st(c.I);Be(A,"SID",c.K),Be(A,"RID",_),Be(A,"AID",c.T),fs(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new Yn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),kn(_,A,g)}function fs(c,g){c.H&&be(c.H,function(_,A){Be(g,A,_)}),c.l&&rs({},function(_,A){Be(g,A,_)})}function ou(c,g,_){_=Math.min(c.i.length,_);var A=c.l?D(c.l.Na,c.l,c):null;e:{var x=c.i;let j=-1;for(;;){const ne=["count="+_];j==-1?0<_?(j=x[0].g,ne.push("ofs="+j)):j=0:ne.push("ofs="+j);let ke=!0;for(let At=0;At<_;At++){let Le=x[At].g;const Nt=x[At].map;if(Le-=j,0>Le)j=Math.max(0,x[At].g-100),ke=!1;else try{Xn(Nt,ne,"req"+Le+"_")}catch{A&&A(Nt)}}if(ke){A=ne.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function uu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ye||O(),de||(ye(),de=!0),je.add(g,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(D(c.Fa,c),Rl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(D(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),ra(this),cu(this))};function ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=st(c.qa);Be(g,"RID","rpc"),Be(g,"SID",c.K),Be(g,"AID",c.T),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(g,"TO",c.ja),Be(g,"TYPE","xmlhttp"),fs(c,g),c.m&&c.o&&Ot(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=as(st(g)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),wl(this),ut(19))};function aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function hu(c,g){var _=null;if(c.g==g){aa(c),ds(c),c.g=null;var A=2}else if(hr(c.h,g))_=g.D,_n(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var x=c.B;A=Ks(),Ct(A,new Zo(A,_)),sa(c)}else uu(c);else if(x=g.s,x==3||x==0&&0<g.X||!(A==1&&Rh(c,g)||A==2&&wl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),x){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Rl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var _=D(c.fb,c),A=c.Xa;const x=!A;A=new vi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(A,"https"),as(A),x?ru(A.toString(),_):ls(A.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(g),fu(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function fu(c){if(c.G=0,c.ka=[],c.l){const g=Zt(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function du(c,g,_){var A=_ instanceof vi?st(_):new vi(_);if(A.g!="")g&&(A.g=g+"."+A.g),ss(A,A.s);else{var x=m.location;A=x.protocol,g=g?g+"."+x.hostname:x.hostname,x=+x.port;var j=new vi(null);A&&dr(j,A),g&&(j.g=g),x&&ss(j,x),_&&(j.l=_),A=j}return _=c.D,g=c.ya,_&&g&&Be(A,_,g),Be(A,"VER",c.la),fs(c,A),A}function mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new pr({eb:_})):new Fe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){Et.call(this),this.g=new ia(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ei(this)}z(Jt,Et),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Sl(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=cl(c),c=_);g.i.push(new Eh(g.Ya++,c)),g.G==3&&sa(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,Jt.aa.N.call(this)};function gu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(gu,nr);function yu(){Pn.call(this),this.status=1}z(yu,Pn);function ei(c){this.g=c}z(ei,pu),ei.prototype.ua=function(){Ct(this.g,"a")},ei.prototype.ta=function(c){Ct(this.g,new gu(c))},ei.prototype.sa=function(c){Ct(this.g,new yu)},ei.prototype.ra=function(){Ct(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,WE=function(){return new la},XE=function(){return Ks()},$E=yn,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Cc=Tt,yi.COMPLETE="complete",YE=yi,Wo.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,go=Wo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,KE=Fe}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new gm("@firebase/firestore");function Pa(){return zs.logLevel}function ae(r,...e){if(zs.logLevel<=Ne.DEBUG){const n=e.map(Om);zs.debug(`Firestore (${nl}): ${r}`,...n)}}function Xi(r,...e){if(zs.logLevel<=Ne.ERROR){const n=e.map(Om);zs.error(`Firestore (${nl}): ${r}`,...n)}}function Fa(r,...e){if(zs.logLevel<=Ne.WARN){const n=e.map(Om);zs.warn(`Firestore (${nl}): ${r}`,...n)}}function Om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+r;throw Xi(e),new Error(e)}function Ge(r,e){r||ve()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class tI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nI{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ls,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ls)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new ZE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Kt(e)}}class iI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new iI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new sI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=lI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%e.length))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Ga(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Rt(0,0))}static max(){return new Te(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=li.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=li.isNumericId(e),l=li.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?li.extractNumericId(e).compare(li.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class Ze extends li{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const oI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends li{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return oI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ze.fromString(e))}static fromName(e){return new me(Ze.fromString(e).popFirst(5))}static empty(){return new me(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ze(e.slice()))}}function uI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Kr(l,me.empty(),e)}function cI(r){return new Kr(r.readTime,r.key,-1)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Te.min(),me.empty(),-1)}static max(){return new Kr(Te.max(),me.empty(),-1)}}function hI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==fI)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,s)=>{n(e)})}static reject(e){return new X((n,s)=>{s(e)})}static waitFor(e){return new X((n,s)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},p=>s(p))}),f=!0,u===l&&n()})}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next(l=>l?X.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new X((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>l(E))}})}static doWhile(e,n){return new X((s,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):s()};u()})}}function mI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sh.oe=-1;function ah(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function pI(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tv(e)),e=yI(r.get(n),e);return tv(e)}function yI(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function tv(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function eT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=l??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Bt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Bt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,l,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new It(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const _I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=_I.exec(r);if(Ge(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(r.seconds),nanos:ht(r.nanos)}}function ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lh(r){const e=r.mapValue.fields.__previous_value__;return Nm(e)?lh(e):e}function Do(r){const e=Yr(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,s,l,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class Oo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{}};function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:TI(r)?9007199254740991:EI(r)?10:11:ve()}function fi(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Do(r).isEqual(Do(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Yr(l.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return $r(l.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return ht(l.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(l.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return ht(l.integerValue)===ht(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ht(l.doubleValue),m=ht(u.doubleValue);return f===m?jc(f)===jc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ga(r.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(nv(f)!==nv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!fi(f[p],m[p])))return!1;return!0}(r,e);default:return ve()}}function No(r,e){return(r.values||[]).find(n=>fi(n,e))!==void 0}function Qa(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ht(u.integerValue||u.doubleValue),p=ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return rv(r.timestampValue,e.timestampValue);case 4:return rv(Do(r),Do(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pe(m[y],p[y]);if(E!==0)return E}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(ht(u.latitude),ht(f.latitude));return m!==0?m:Pe(ht(u.longitude),ht(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},D=f.fields||{},M=(m=b.value)===null||m===void 0?void 0:m.arrayValue,z=(p=D.value)===null||p===void 0?void 0:p.arrayValue,K=Pe(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:sv(M,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===vc.mapValue&&f===vc.mapValue)return 0;if(u===vc.mapValue)return 1;if(f===vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const D=Pe(p[b],E[b]);if(D!==0)return D;const M=Qa(m[p[b]],y[E[b]]);if(M!==0)return M}return Pe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw ve()}}function rv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Yr(r),s=Yr(e),l=Pe(n.seconds,s.seconds);return l!==0?l:Pe(n.nanos,s.nanos)}function sv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Qa(n[l],s[l]);if(u)return u}return Pe(n.length,s.length)}function Ka(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Yd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Yd(n.fields[f])}`;return l+"}"}(r.mapValue):ve()}function Dc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(r);return e?16+Dc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+Dc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Bs(s.fields,(u,f)=>{l+=u.length+Dc(f)}),l}(r.mapValue);default:throw ve()}}function av(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $d(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function EI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function To(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=To(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=To(r.arrayValue.values[n]);return e}return Object.assign({},r)}function TI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(n)}setAll(e){let n=qt.emptyPath(),s={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=To(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Bs(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new Mn(To(this.value))}}function nT(r){const e=[];return Bs(r.fields,(n,s)=>{const l=new qt([n]);if(Oc(s)){const u=nT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Te.min(),Te.min(),Te.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,l){return new Yt(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new Yt(e,2,n,Te.min(),Te.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Te.min(),Te.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.position=e,this.inclusive=n}}function uv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n="asc"){this.field=e,this.dir=n}}function AI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class _t extends iT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bI(e,n,s):n==="array-contains"?new II(e,s):n==="in"?new CI(e,s):n==="not-in"?new DI(e,s):n==="array-contains-any"?new OI(e,s):new _t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wI(e,s):new RI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends iT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jn(e,n)}matches(e){return rT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function sT(r){return SI(r)&&rT(r)}function SI(r){for(const e of r.filters)if(e instanceof jn)return!1;return!0}function Xd(r){if(r instanceof _t)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(sT(r))return r.filters.map(e=>Xd(e)).join(",");{const e=r.filters.map(n=>Xd(n)).join(",");return`${r.op}(${e})`}}function aT(r,e){return r instanceof _t?function(s,l){return l instanceof _t&&s.op===l.op&&s.field.isEqual(l.field)&&fi(s.value,l.value)}(r,e):r instanceof jn?function(s,l){return l instanceof jn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&aT(f,l.filters[m]),!0):!1}(r,e):void ve()}function lT(r){return r instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(r):"Filter"}class bI extends _t{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class wI extends _t{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RI extends _t{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class II extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&No(n.arrayValue,this.value)}}class CI extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&No(this.value.arrayValue,n)}}class DI extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!No(this.value.arrayValue,n)}}class OI extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>No(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function hv(r,e=null,n=[],s=[],l=null,u=null,f=null){return new NI(r,e,n,s,l,u,f)}function Mm(r){const e=Se(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Xd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ka(s)).join(",")),e.ue=n}return e.ue}function Pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cv(r.startAt,e.startAt)&&cv(r.endAt,e.endAt)}function Wd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VI(r,e,n,s,l,u,f,m){return new sl(r,e,n,s,l,u,f,m)}function km(r){return new sl(r)}function fv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uT(r){return r.collectionGroup!==null}function Ao(r){const e=Se(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Vo(u,s))}),n.has(qt.keyField().canonicalString())||e.ce.push(new Vo(qt.keyField(),s))}return e.ce}function ui(r){const e=Se(r);return e.le||(e.le=MI(e,Ao(r))),e.le}function MI(r,e){if(r.limitType==="F")return hv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Vo(l.field,u)});const n=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return hv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Zd(r,e){const n=r.filters.concat([e]);return new sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gc(r,e,n){return new sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function oh(r,e){return Pm(ui(r),ui(e))&&r.limitType===e.limitType}function cT(r){return`${Mm(ui(r))}|lt:${r.limitType}`}function ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>lT(l)).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ka(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ka(l)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function uh(r,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,l){for(const u of Ao(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(f,m,p){const y=uv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ao(s),l)||s.endAt&&!function(f,m,p){const y=uv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ao(s),l))}(r,e)}function PI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hT(r){return(e,n)=>{let s=!1;for(const l of Ao(r)){const u=kI(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function kI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Qa(p,y):ve()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new it(me.comparator);function Wi(){return LI}const fT=new it(me.comparator);function yo(...r){let e=fT;for(const n of r)e=e.insert(n.key,n);return e}function dT(r){let e=fT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return So()}function mT(){return So()}function So(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const xI=new it(me.comparator),UI=new It(me.comparator);function Ve(...r){let e=UI;for(const n of r)e=e.add(n);return e}const zI=new It(Pe);function BI(){return zI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function pT(r){return{integerValue:""+r}}function qI(r,e){return pI(e)?pT(e):Lm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function HI(r,e,n){return r instanceof Mo?function(l,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Nm(u)&&(u=lh(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):r instanceof Po?yT(r,e):r instanceof ko?_T(r,e):function(l,u){const f=gT(l,u),m=dv(f)+dv(l.Pe);return $d(f)&&$d(l.Pe)?pT(m):Lm(l.serializer,m)}(r,e)}function jI(r,e,n){return r instanceof Po?yT(r,e):r instanceof ko?_T(r,e):n}function gT(r,e){return r instanceof Qc?function(s){return $d(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Mo extends ch{}class Po extends ch{constructor(e){super(),this.elements=e}}function yT(r,e){const n=vT(e);for(const s of r.elements)n.some(l=>fi(l,s))||n.push(s);return{arrayValue:{values:n}}}class ko extends ch{constructor(e){super(),this.elements=e}}function _T(r,e){let n=vT(e);for(const s of r.elements)n=n.filter(l=>!fi(l,s));return{arrayValue:{values:n}}}class Qc extends ch{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dv(r){return ht(r.integerValue||r.doubleValue)}function vT(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.field=e,this.transform=n}}function GI(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof Po&&l instanceof Po||s instanceof ko&&l instanceof ko?Ga(s.elements,l.elements,fi):s instanceof Qc&&l instanceof Qc?fi(s.Pe,l.Pe):s instanceof Mo&&l instanceof Mo}(r.transform,e.transform)}class QI{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hh{}function ET(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new AT(r.key,Ki.none()):new jo(r.key,r.data,Ki.none());{const n=r.data,s=Mn.empty();let l=new It(qt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Hs(r.key,s,new Bn(l.toArray()),Ki.none())}}function KI(r,e,n){r instanceof jo?function(l,u,f){const m=l.value.clone(),p=pv(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Hs?function(l,u,f){if(!Nc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=pv(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(TT(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function bo(r,e,n,s){return r instanceof jo?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=u.value.clone(),E=gv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Hs?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=gv(u.fieldTransforms,p,f),E=f.data;return E.setAll(TT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function YI(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=gT(s.transform,l||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function mv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ga(s,l,(u,f)=>GI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class jo extends hh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hs extends hh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function pv(r,e,n){const s=new Map;Ge(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,jI(f,m,n[l]))}return s}function gv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,HI(u,f,e))}return s}class AT extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&KI(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mT();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=ET(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,s)=>mv(n,s))&&Ga(this.baseMutations,e.baseMutations,(n,s)=>mv(n,s))}}class xm{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ge(e.mutations.length===s.length);let l=function(){return xI}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new xm(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function JI(r){switch(r){default:return ve();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function ST(r){if(r===void 0)return Xi("GRPC error has no .code"),W.UNKNOWN;switch(r){case yt.OK:return W.OK;case yt.CANCELLED:return W.CANCELLED;case yt.UNKNOWN:return W.UNKNOWN;case yt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case yt.INTERNAL:return W.INTERNAL;case yt.UNAVAILABLE:return W.UNAVAILABLE;case yt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case yt.NOT_FOUND:return W.NOT_FOUND;case yt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case yt.ABORTED:return W.ABORTED;case yt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case yt.DATA_LOSS:return W.DATA_LOSS;default:return ve()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Fr([4294967295,4294967295],0);function yv(r){const e=eC().encode(r),n=new QE;return n.update(e),new Uint8Array(n.digest())}function _v(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([l,u],0)]}class Um{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Fr.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Fr.fromNumber(s)));return l.compare(tC)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=yv(e),[s,l]=_v(n);for(let u=0;u<this.hashCount;u++){const f=this.de(s,l,u);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Um(u,l,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=yv(e),[s,l]=_v(n);for(let u=0;u<this.hashCount;u++){const f=this.de(s,l,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fh(Te.min(),l,new it(Pe),Wi(),Ve())}}class Fo{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fo(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,s,l){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=l}}class bT{constructor(e,n){this.targetId=e,this.me=n}}class wT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class vv{constructor(){this.fe=0,this.ge=Ev(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ve()}}),new Fo(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Ev()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nC{constructor(e){this.Be=e,this.Le=new Map,this.ke=Wi(),this.qe=Ec(),this.Qe=Ec(),this.Ke=new it(Pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.me.count,l=this.Ye(n);if(l){const u=l.target;if(Wd(u))if(s===0){const f=new me(u.path);this.We(n,f,Yt.newNoDocument(f,Te.min()))}else Ge(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),p=m?this.et(m,e,f):1;if(p!==0){this.He(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof tT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Um(f,l,u)}catch(p){return Fa(p instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(n,u,null),l++)}),l}it(e){const n=new Map;this.Le.forEach((u,f)=>{const m=this.Ye(f);if(m){if(u.current&&Wd(m.target)){const p=new me(m.target.path);this.st(p).has(f)||this.ot(f,p)||this.We(f,p,Yt.newNoDocument(p,e))}u.be&&(n.set(f,u.ve()),u.Ce())}});let s=Ve();this.Qe.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,f)=>f.setReadTime(e));const l=new fh(e,n,this.Ke,this.ke,s);return this.ke=Wi(),this.qe=Ec(),this.Qe=Ec(),this.Ke=new it(Pe),l}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.ot(e,n)?l.Fe(n,1):l.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new vv,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new It(Pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new vv),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Ec(){return new it(me.comparator)}function Ev(){return new it(me.comparator)}const iC={asc:"ASCENDING",desc:"DESCENDING"},rC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sC={and:"AND",or:"OR"};class aC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jd(r,e){return r.useProto3Json||ah(e)?e:{value:e}}function Kc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lC(r,e){return Kc(r,e.toTimestamp())}function ci(r){return Ge(!!r),Te.fromTimestamp(function(n){const s=Yr(n);return new Rt(s.seconds,s.nanos)}(r))}function zm(r,e){return em(r,e).canonicalString()}function em(r,e){const n=function(l){return new Ze(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function IT(r){const e=Ze.fromString(r);return Ge(VT(e)),e}function tm(r,e){return zm(r.databaseId,e.path)}function Nd(r,e){const n=IT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(DT(n))}function CT(r,e){return zm(r.databaseId,e)}function oC(r){const e=IT(r);return e.length===4?Ze.emptyPath():DT(e)}function nm(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DT(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Tv(r,e,n){return{name:tm(r,e),fields:n.value.mapValue.fields}}function uC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?W.UNKNOWN:ST(y.code);return new oe(E,y.message||"")}(f);n=new wT(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Nd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Te.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Vc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Nd(r,s.document),u=s.readTime?ci(s.readTime):Te.min(),f=Yt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Vc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Nd(r,s.document),u=s.removedTargetIds||[];n=new Vc([],u,l,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new ZI(l,u),m=s.targetId;n=new bT(m,f)}}return n}function cC(r,e){let n;if(e instanceof jo)n={update:Tv(r,e.key,e.value)};else if(e instanceof AT)n={delete:tm(r,e.key)};else if(e instanceof Hs)n={update:Tv(r,e.key,e.data),updateMask:vC(e.fieldMask)};else{if(!(e instanceof $I))return ve();n={verify:tm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Po)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ko)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qc)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:lC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(r,e.precondition)),n}function hC(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(l,u){let f=l.updateTime?ci(l.updateTime):ci(u);return f.isEqual(Te.min())&&(f=ci(u)),new QI(f,l.transformResults||[])}(n,e))):[]}function fC(r,e){return{documents:[CT(r,e.path)]}}function dC(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=CT(r,l);const u=function(y){if(y.length!==0)return NT(jn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:La(D.field),direction:gC(D.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jd(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:l}}function mC(r){let e=oC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const D=OT(b);return D instanceof jn&&sT(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(D=>function(z){return new Vo(xa(z.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(b){let D;return D=typeof b=="object"?b.value:b,ah(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(b){const D=!!b.before,M=b.values||[];return new Fc(M,D)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const D=!b.before,M=b.values||[];return new Fc(M,D)}(n.endAt)),VI(e,l,f,u,m,"F",p,y)}function pC(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(n.unaryFilter.field);return _t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xa(n.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(n.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(r):r.fieldFilter!==void 0?function(n){return _t.create(xa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(s=>OT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(r):ve()}function gC(r){return iC[r]}function yC(r){return rC[r]}function _C(r){return sC[r]}function La(r){return{fieldPath:r.canonicalString()}}function xa(r){return qt.fromServerFormat(r.fieldPath)}function NT(r){return r instanceof _t?function(n){if(n.op==="=="){if(ov(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ov(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:yC(n.op),value:n.value}}}(r):r instanceof jn?function(n){const s=n.getFilters().map(l=>NT(l));return s.length===1?s[0]:{compositeFilter:{op:_C(n.op),filters:s}}}(r):ve()}function vC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,l,u=Te.min(),f=Te.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.ht=e}}function TC(r){const e=mC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.ln=new SC}addToCollectionParentIndex(e,n){return this.ln.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Kr.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class SC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new It(Ze.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ya(0)}static Qn(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv([r,e],[n,s]){const l=Pe(r,n);return l===0?Pe(e,s):l}class bC{constructor(e){this.Gn=e,this.buffer=new It(Sv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Sv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Yn(3e5)})}}class RC{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return X.resolve(sh.oe);const s=new bC(n);return this.Zn.forEachTarget(e,l=>s.Hn(l.sequenceNumber)).next(()=>this.Zn.er(e,l=>s.Hn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Av)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,l,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Pa()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function IC(r,e){return new RC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changes=new qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&bo(s.mutation,l,Bn.empty(),Rt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const l=Ps();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let f=yo();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,l){let u=Wi();const f=So(),m=function(){return So()}();return n.forEach((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Hs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),bo(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new DC(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=So();let l=new it((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Bn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(l.get(m.batchId)||Ve()).add(p);l=l.insert(m.batchId,b)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=mT();E.forEach(D=>{if(!u.has(D)){const M=ET(n.get(D),s.get(D));M!==null&&b.set(D,M),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):X.resolve(Ps());let m=-1,p=u;return f.next(y=>X.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:m,changes:dT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let l=yo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(e,u).next(m=>X.forEach(m,p=>{const y=function(b,D){return new sl(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next(E=>{E.forEach((b,D)=>{f=f.insert(b,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=yo();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&bo(E.mutation,y,Bn.empty(),Rt.now()),uh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return X.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(l){return{name:l.name,query:TC(l.bundledQuery),readTime:ci(l.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new it(me.comparator),this.dr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return X.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.Tt(e,n,u)}),X.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.dr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.dr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const l=Ps(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new it((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return X.resolve(m)}Tt(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.dr.get(l.largestBatchId).delete(s.key);this.dr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WI(n,s));let u=this.dr.get(n);u===void 0&&(u=Ve(),this.dr.set(n,u)),this.dr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Er=new It(kt.Ar),this.Rr=new It(kt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new kt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new me(new Ze([])),s=new kt(n,e),l=new kt(n,e+1),u=[];return this.Rr.forEachInRange([s,l],f=>{this.gr(f),u.push(f.key)}),u}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new Ze([])),s=new kt(n,e),l=new kt(n,e+1);let u=Ve();return this.Rr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||Pe(e.br,n.br)}static Vr(e,n){return Pe(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new It(kt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XI(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.vr=this.vr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Fr(s),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),l=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,l],f=>{const m=this.Cr(f.br);u.push(m)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Pe);return n.forEach(l=>{const u=new kt(l,0),f=new kt(l,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,f],m=>{s=s.add(m.br)})}),X.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new It(Pe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.br)),!0)},f),X.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const l=this.Cr(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ge(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return X.forEach(n.mutations,l=>{const u=new kt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new kt(n,0),l=this.vr.firstAfterOrEqual(s);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Nr=e,this.docs=function(){return new it(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Wi();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Yt.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=Wi();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||hI(cI(E),s)<=0||(l.has(E.key)||uh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ve()}Br(e,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new LC(this)}getSize(e){return X.resolve(this.size)}}class LC extends CC{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.hr.addEntry(e,l)):this.hr.removeEntry(s)}),X.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.persistence=e,this.Lr=new qs(n=>Mm(n),Pm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bm,this.targetCount=0,this.Qr=Ya.qn()}forEachTarget(e,n){return this.Lr.forEach((s,l)=>n(l)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),X.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Un(n),X.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),X.waitFor(u).next(()=>l)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.Kr={},this.overlays={},this.$r=new sh(0),this.Ur=!1,this.Ur=!0,this.Wr=new MC,this.referenceDelegate=e(this),this.Gr=new xC(this),this.indexManager=new AC,this.remoteDocumentCache=function(l){return new kC(l)}(s=>this.referenceDelegate.zr(s)),this.serializer=new EC(n),this.jr=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new PC(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const l=new UC(this.$r.next());return this.referenceDelegate.Hr(),s(l).next(u=>this.referenceDelegate.Jr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Yr(e,n){return X.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class UC extends dI{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Zr=new Bm,this.Xr=null}static ei(e){return new qm(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),X.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(l=>this.ti.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,s=>{const l=me.fromPath(s);return this.ni(e,l).next(u=>{u||n.removeEntry(l,Te.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return X.or([()=>X.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.ri=new qs(s=>gI(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=IC(this,n)}static ei(e,n){return new Yc(e,n)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return X.forEach(this.ri,(s,l)=>this.ir(e,s,l).next(u=>u?X.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),X.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}ir(e,n,s){return X.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.ri.get(n);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=l}static zi(e,n){let s=Ve(),l=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Hm(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kb()?8:mI($t())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.Xi(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.es(e,n,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new zC;return this.ts(e,n,f).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>u.result)}ns(e,n,s,l){return s.documentReadCount<this.Ji?(Pa()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Pa()<=Ne.DEBUG&&ae("QueryEngine","Query:",ka(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Yi*l?(Pa()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):X.resolve())}Xi(e,n){if(fv(n))return X.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Gc(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(n,m);return this.ss(n,y,f,p.readTime)?this.Xi(e,Gc(n,null,"F")):this.os(e,y,n,p)}))})))}es(e,n,s,l){return fv(n)||l.isEqual(Te.min())?X.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const f=this.rs(n,u);return this.ss(n,f,s,l)?X.resolve(null):(Pa()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(n)),this.os(e,f,n,uI(l,-1)).next(m=>m))})}rs(e,n){let s=new It(hT(e));return n.forEach((l,u)=>{uh(e,u)&&(s=s.add(u))}),s}ss(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ts(e,n,s){return Pa()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ka(n)),this.Zi.getDocumentsMatchingQuery(e,n,Kr.min(),s)}os(e,n,s,l){return this.Zi.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,s,l){this.persistence=e,this._s=n,this.serializer=l,this.us=new it(Pe),this.cs=new qs(u=>Mm(u),Pm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function HC(r,e,n,s){return new qC(r,e,n,s)}async function PT(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:f,addedBatchIds:m}))})})}function jC(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,D=b.keys();let M=X.resolve();return D.forEach(z=>{M=M.next(()=>E.getEntry(p,z)).next(K=>{const H=y.docVersions.get(z);Ge(H!==null),K.version.compareTo(H)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function kT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function FC(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});l=n.us;const m=[];e.targetChanges.forEach((E,b)=>{const D=l.get(b);if(!D)return;m.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,b)));let M=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Ht.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),l=l.insert(b,M),function(K,H,Y){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(D,M,E)&&m.push(n.Gr.updateTargetData(u,M))});let p=Wi(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(GC(u,f,e.documentUpdates).next(E=>{p=E.Is,y=E.ds})),!s.isEqual(Te.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(b=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return X.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.us=l,u))}function GC(r,e,n){let s=Ve(),l=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Wi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Is:f,ds:l}})}function QC(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KC(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Gr.getTargetData(s,e).next(u=>u?(l=u,X.resolve(l)):n.Gr.allocateTargetId(s).next(f=>(l=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.us.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function im(r,e,n){const s=Se(r),l=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!rl(f))throw f;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(l.target)}function bv(r,e,n){const s=Se(r);let l=Te.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=Se(p),D=b.cs.get(E);return D!==void 0?X.resolve(b.us.get(D)):b.Gr.getTargetData(y,E)}(s,f,ui(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?l:Te.min(),n?u:Ve())).next(m=>(YC(s,PI(e),m),{documents:m,Es:u})))}function YC(r,e,n){let s=r.ls.get(e)||Te.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class wv{constructor(){this.activeTargetIds=BI()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $C{constructor(){this._o=new wv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function Vd(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class JC extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${l}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Oo(n,s,l,u,f){const m=Vd(),p=this.No(n,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${m}:`,p,l);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,u,f),this.Lo(n,p,y,l).then(E=>(ae("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw Fa("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",l),E})}ko(n,s,l,u,f,m){return this.Oo(n,s,l,u,f)}Bo(n,s,l){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,f)=>n[f]=u),l&&l.headers.forEach((u,f)=>n[f]=u)}No(n,s){const l=WC[n];return`${this.Fo}/v1/${s}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,l){const u=Vd();return new Promise((f,m)=>{const p=new KE;p.setWithCredentials(!0),p.listenOnce(YE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Cc.NO_ERROR:const E=p.getResponseJson();ae(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Cc.TIMEOUT:ae(Qt,`RPC '${e}' ${u} timed out`),m(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const b=p.getStatus();if(ae(Qt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D==null?void 0:D.error;if(M&&M.status&&M.message){const z=function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Y)>=0?Y:W.UNKNOWN}(M.status);m(new oe(z,M.message))}else m(new oe(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ae(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(l);ae(Qt,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",y,s,15)})}qo(e,n,s){const l=Vd(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=WE(),m=XE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ae(Qt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=f.createWebChannel(E,p);let D=!1,M=!1;const z=new ZC({Eo:H=>{M?ae(Qt,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(D||(ae(Qt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),D=!0),ae(Qt,`RPC '${e}' stream ${l} sending:`,H),b.send(H))},Ao:()=>b.close()}),K=(H,Y,te)=>{H.listen(Y,ee=>{try{te(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return K(b,go.EventType.OPEN,()=>{M||(ae(Qt,`RPC '${e}' stream ${l} transport opened.`),z.So())}),K(b,go.EventType.CLOSE,()=>{M||(M=!0,ae(Qt,`RPC '${e}' stream ${l} transport closed`),z.Do())}),K(b,go.EventType.ERROR,H=>{M||(M=!0,Fa(Qt,`RPC '${e}' stream ${l} transport errored:`,H),z.Do(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),K(b,go.EventType.MESSAGE,H=>{var Y;if(!M){const te=H.data[0];Ge(!!te);const ee=te,pe=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(pe){ae(Qt,`RPC '${e}' stream ${l} received error:`,pe);const ue=pe.status;let be=function(S){const I=yt[S];if(I!==void 0)return ST(I)}(ue),V=pe.message;be===void 0&&(be=W.INTERNAL,V="Unknown error status: "+ue+" with message "+pe.message),M=!0,z.Do(new oe(be,V)),b.close()}else ae(Qt,`RPC '${e}' stream ${l} received:`,te),z.vo(te)}}),K(m,$E.STAT_EVENT,H=>{H.stat===Kd.PROXY?ae(Qt,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===Kd.NOPROXY&&ae(Qt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new aC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=l,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),l=Math.max(0,n-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,l,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s,l,u,f,m,p){this.li=e,this.Yo=s,this.Zo=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new LT(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Xo===n&&this.I_(s,l)},s=>{e(()=>{const l=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(l)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(l=>{s(()=>this.d_(l))}),this.stream.onMessage(l=>{s(()=>++this.n_==1?this.A_(l):this.onNext(l))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eD extends xT{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=uC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?ci(f.readTime):Te.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=nm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Wd(p)?{documents:fC(u,p)}:{query:dC(u,p).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=RT(u,f.resumeToken);const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Kc(u,f.snapshotVersion.toTimestamp());const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=pC(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.c_(n)}}class tD extends xT{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=hC(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=nm(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cC(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.S_=!1}b_(){if(this.S_)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Oo(e,em(n,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())})}ko(e,n,s,l,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,em(n,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class iD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Xi(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{js(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await Go(y),y.K_.set("Unknown"),y.k_.delete(4),await mh(y)}(this))})}),this.K_=new iD(s,l)}}async function mh(r){if(js(r))for(const e of r.q_)await e(!0)}async function Go(r){for(const e of r.q_)await e(!1)}function UT(r,e){const n=Se(r);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Qm(n)?Gm(n):al(n).s_()&&Fm(n,e))}function jm(r,e){const n=Se(r),s=al(n);n.L_.delete(e),s.s_()&&zT(n,e),n.L_.size===0&&(s.s_()?s.a_():js(n)&&n.K_.set("Unknown"))}function Fm(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(r).V_(e)}function zT(r,e){r.U_.xe(e),al(r).m_(e)}function Gm(r){r.U_=new nC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.K_.F_()}function Qm(r){return js(r)&&!al(r).i_()&&r.L_.size>0}function js(r){return Se(r).k_.size===0}function BT(r){r.U_=void 0}async function sD(r){r.K_.set("Online")}async function aD(r){r.L_.forEach((e,n)=>{Fm(r,e)})}async function lD(r,e){BT(r),Qm(r)?(r.K_.O_(e),Gm(r)):r.K_.set("Unknown")}async function oD(r,e,n){if(r.K_.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.L_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.L_.delete(m),l.U_.removeTarget(m))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $c(r,s)}else if(e instanceof Vc?r.U_.$e(e):e instanceof bT?r.U_.Je(e):r.U_.Ge(e),!n.isEqual(Te.min()))try{const s=await kT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.U_.it(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.L_.get(y);E&&u.L_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.L_.get(p);if(!E)return;u.L_.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),zT(u,p);const b=new Br(E.target,p,y,E.sequenceNumber);Fm(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await $c(r,s)}}async function $c(r,e,n){if(!rl(e))throw e;r.k_.add(1),await Go(r),r.K_.set("Offline"),n||(n=()=>kT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),r.k_.delete(1),await mh(r)})}function qT(r,e){return e().catch(n=>$c(r,n,e))}async function ph(r){const e=Se(r),n=Wr(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;uD(e);)try{const l=await QC(e.localStore,s);if(l===null){e.B_.length===0&&n.a_();break}s=l.batchId,cD(e,l)}catch(l){await $c(e,l)}HT(e)&&jT(e)}function uD(r){return js(r)&&r.B_.length<10}function cD(r,e){r.B_.push(e);const n=Wr(r);n.s_()&&n.f_&&n.g_(e.mutations)}function HT(r){return js(r)&&!Wr(r).i_()&&r.B_.length>0}function jT(r){Wr(r).start()}async function hD(r){Wr(r).w_()}async function fD(r){const e=Wr(r);for(const n of r.B_)e.g_(n.mutations)}async function dD(r,e,n){const s=r.B_.shift(),l=xm.from(s,e,n);await qT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ph(r)}async function mD(r,e){e&&Wr(r).f_&&await async function(s,l){if(function(f){return JI(f)&&f!==W.ABORTED}(l.code)){const u=s.B_.shift();Wr(s).__(),await qT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await ph(s)}}(r,e),HT(r)&&jT(r)}async function Iv(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=js(n);n.k_.add(3),await Go(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await mh(n)}async function pD(r,e){const n=Se(r);e?(n.k_.delete(2),await mh(n)):e||(n.k_.add(2),await Go(n),n.K_.set("Unknown"))}function al(r){return r.W_||(r.W_=function(n,s,l){const u=Se(n);return u.b_(),new eD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{Ro:sD.bind(null,r),mo:aD.bind(null,r),po:lD.bind(null,r),R_:oD.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Qm(r)?Gm(r):r.K_.set("Unknown")):(await r.W_.stop(),BT(r))})),r.W_}function Wr(r){return r.G_||(r.G_=function(n,s,l){const u=Se(n);return u.b_(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:hD.bind(null,r),po:mD.bind(null,r),p_:fD.bind(null,r),y_:dD.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await ph(r)):(await r.G_.stop(),r.B_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Km(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(r,e){if(Xi("AsyncQueue",`${e}: ${r}`),rl(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=yo(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.z_=new it(me.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class $a{constructor(e,n,s,l,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new $a(e,n,qa.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class yD{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const l=Se(n),u=l.queries;l.queries=Dv(),u.forEach((f,m)=>{for(const p of m.J_)p.onError(s)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function Dv(){return new qs(r=>cT(r),oh)}async function _D(r,e){const n=Se(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.Y_()&&e.Z_()&&(s=2):(u=new gD,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(l,!0);break;case 1:u.H_=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Ym(f,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&$m(n)}async function vD(r,e){const n=Se(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.J_.indexOf(e);f>=0&&(u.J_.splice(f,1),u.J_.length===0?l=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ED(r,e){const n=Se(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.J_)m.ta(l)&&(s=!0);f.H_=l}}s&&$m(n)}function TD(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const u of l.J_)u.onError(n);s.queries.delete(e)}function $m(r){r.X_.forEach(e=>{e.next()})}var rm,Ov;(Ov=rm||(rm={})).na="default",Ov.Cache="cache";class AD{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new $a(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class SD{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=hT(e),this.ma=new qa(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new Cv,l=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const D=l.get(E),M=uh(this.query,b)?b:null,z=!!D&&this.mutatedKeys.has(D.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;D&&M?D.data.isEqual(M.data)?z!==K&&(s.track({type:3,doc:M}),H=!0):this.ya(D,M)||(s.track({type:2,doc:M}),H=!0,(p&&this.Va(M,p)>0||y&&this.Va(M,y)<0)&&(m=!0)):!D&&M?(s.track({type:0,doc:M}),H=!0):D&&!M&&(s.track({type:1,doc:D}),H=!0,(p||y)&&(m=!0)),H&&(M?(f=f.add(M),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:f,pa:s,ss:m,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((E,b)=>function(M,z){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return K(M)-K(z)}(E.type,b.type)||this.Va(E.doc,b.doc)),this.wa(s),l=l!=null&&l;const m=n&&!l?this.Sa():[],p=this.Ra.size===0&&this.current&&!l?1:0,y=p!==this.Aa;return this.Aa=p,f.length!==0||y?{snapshot:new $a(this.query,e.ma,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Cv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new GT(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new FT(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return $a.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class bD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wD{constructor(e){this.key=e,this.Fa=!1}}class RD{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new qs(m=>cT(m),oh),this.Oa=new Map,this.Na=new Set,this.Ba=new it(me.comparator),this.La=new Map,this.ka=new Bm,this.qa={},this.Qa=new Map,this.Ka=Ya.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ID(r,e,n=!0){const s=WT(r);let l;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Ca()):l=await QT(s,e,n,!0),l}async function CD(r,e){const n=WT(r);await QT(n,e,!0,!1)}async function QT(r,e,n,s){const l=await KC(r.localStore,ui(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DD(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&UT(r.remoteStore,l),m}async function DD(r,e,n,s,l){r.Ua=(b,D,M)=>async function(K,H,Y,te){let ee=H.view.ga(Y);ee.ss&&(ee=await bv(K.localStore,H.query,!1).then(({documents:V})=>H.view.ga(V,ee)));const pe=te&&te.targetChanges.get(H.targetId),ue=te&&te.targetMismatches.get(H.targetId)!=null,be=H.view.applyChanges(ee,K.isPrimaryClient,pe,ue);return Vv(K,H.targetId,be.ba),be.snapshot}(r,b,D,M);const u=await bv(r.localStore,e,!0),f=new SD(e,u.Es),m=f.ga(u.documents),p=Fo.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);Vv(r,n,y.ba);const E=new bD(e,n,f);return r.xa.set(e,E),r.Oa.has(n)?r.Oa.get(n).push(e):r.Oa.set(n,[e]),y.snapshot}async function OD(r,e,n){const s=Se(r),l=s.xa.get(e),u=s.Oa.get(l.targetId);if(u.length>1)return s.Oa.set(l.targetId,u.filter(f=>!oh(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await im(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&jm(s.remoteStore,l.targetId),sm(s,l.targetId)}).catch(il)):(sm(s,l.targetId),await im(s.localStore,l.targetId,!0))}async function ND(r,e){const n=Se(r),s=n.xa.get(e),l=n.Oa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jm(n.remoteStore,s.targetId))}async function VD(r,e,n){const s=zD(r);try{const l=await function(f,m){const p=Se(f),y=Rt.now(),E=m.reduce((M,z)=>M.add(z.key),Ve());let b,D;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let z=Wi(),K=Ve();return p.hs.getEntries(M,E).next(H=>{z=H,z.forEach((Y,te)=>{te.isValidDocument()||(K=K.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,z)).next(H=>{b=H;const Y=[];for(const te of m){const ee=YI(te,b.get(te.key).overlayedDocument);ee!=null&&Y.push(new Hs(te.key,ee,nT(ee.value.mapValue),Ki.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,m)}).next(H=>{D=H;const Y=H.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(M,H.batchId,Y)})}).then(()=>({batchId:D.batchId,changes:dT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.qa[f.currentUser.toKey()];y||(y=new it(Pe)),y=y.insert(m,p),f.qa[f.currentUser.toKey()]=y}(s,l.batchId,n),await Qo(s,l.changes),await ph(s.remoteStore)}catch(l){const u=Ym(l,"Failed to persist write");n.reject(u)}}async function KT(r,e){const n=Se(r);try{const s=await FC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.La.get(u);f&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Fa=!0:l.modifiedDocuments.size>0?Ge(f.Fa):l.removedDocuments.size>0&&(Ge(f.Fa),f.Fa=!1))}),await Qo(n,s,e)}catch(s){await il(s)}}function Nv(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.xa.forEach((u,f)=>{const m=f.view.ea(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const D of b.J_)D.ea(m)&&(y=!0)}),y&&$m(p)}(s.eventManager,e),l.length&&s.Ma.R_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.La.get(e),u=l&&l.key;if(u){let f=new it(me.comparator);f=f.insert(u,Yt.newNoDocument(u,Te.min()));const m=Ve().add(u),p=new fh(Te.min(),new Map,new it(Pe),f,m);await KT(s,p),s.Ba=s.Ba.remove(u),s.La.delete(e),Xm(s)}else await im(s.localStore,e,!1).then(()=>sm(s,e,n)).catch(il)}async function PD(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await jC(n.localStore,e);$T(n,s,null),YT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qo(n,l)}catch(l){await il(l)}}async function kD(r,e,n){const s=Se(r);try{const l=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Ge(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);$T(s,e,n),YT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qo(s,l)}catch(l){await il(l)}}function YT(r,e){(r.Qa.get(e)||[]).forEach(n=>{n.resolve()}),r.Qa.delete(e)}function $T(r,e,n){const s=Se(r);let l=s.qa[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.qa[s.currentUser.toKey()]=l}}function sm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),n&&r.Ma.Wa(s,n);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||XT(r,s)})}function XT(r,e){r.Na.delete(e.path.canonicalString());const n=r.Ba.get(e);n!==null&&(jm(r.remoteStore,n),r.Ba=r.Ba.remove(e),r.La.delete(n),Xm(r))}function Vv(r,e,n){for(const s of n)s instanceof FT?(r.ka.addReference(s.key,e),LD(r,s)):s instanceof GT?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||XT(r,s.key)):ve()}function LD(r,e){const n=e.key,s=n.path.canonicalString();r.Ba.get(n)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+n),r.Na.add(s),Xm(r))}function Xm(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const n=new me(Ze.fromString(e)),s=r.Ka.next();r.La.set(s,new wD(n)),r.Ba=r.Ba.insert(n,s),UT(r.remoteStore,new Br(ui(km(n.path)),s,"TargetPurposeLimboResolution",sh.oe))}}async function Qo(r,e,n){const s=Se(r),l=[],u=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,p)=>{f.push(s.Ua(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Hm.zi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.Ma.R_(l),await async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>X.forEach(y,D=>X.forEach(D.Wi,M=>E.persistence.referenceDelegate.addReference(b,D.targetId,M)).next(()=>X.forEach(D.Gi,M=>E.persistence.referenceDelegate.removeReference(b,D.targetId,M)))))}catch(b){if(!rl(b))throw b;ae("LocalStore","Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const M=E.us.get(D),z=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(z);E.us=E.us.insert(D,K)}}}(s.localStore,u))}async function xD(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await PT(n.localStore,e);n.currentUser=e,function(u,f){u.Qa.forEach(m=>{m.forEach(p=>{p.reject(new oe(W.CANCELLED,f))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qo(n,s.Ts)}}function UD(r,e){const n=Se(r),s=n.La.get(e);if(s&&s.Fa)return Ve().add(s.key);{let l=Ve();const u=n.Oa.get(e);if(!u)return l;for(const f of u){const m=n.xa.get(f);l=l.unionWith(m.view.fa)}return l}}function WT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.Ma.R_=ED.bind(null,e.eventManager),e.Ma.Wa=TD.bind(null,e.eventManager),e}function zD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return HC(this.persistence,new BC,e.initialUser,this.serializer)}ja(e){return new MT(qm.ei,this.serializer)}za(e){return new $C}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class BD extends Xc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ge(this.persistence.referenceDelegate instanceof Yc);const s=this.persistence.referenceDelegate.garbageCollector;return new wC(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new MT(s=>Yc.ei(s,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yD}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),s=function(u){return new JC(u)}(e.databaseInfo);return function(u,f,m,p){return new nD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,u,f,m){return new rD(s,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Nv(this.syncEngine,n,0),function(){return Rv.p()?new Rv:new XC}())}createSyncEngine(e,n){return function(l,u,f,m,p,y,E){const b=new RD(l,u,f,m,p,y);return E&&(b.$a=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Se(l);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Go(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=JE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ym(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pd(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await PT(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Mv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jD(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Iv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Iv(e.remoteStore,l)),r._onlineComponents=e}async function jD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new Xc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Pd(r,new BD(void 0));return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Mv(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Mv(r,new am))),r._onlineComponents}function FD(r){return ZT(r).then(e=>e.syncEngine)}async function Pv(r){const e=await ZT(r),n=e.eventManager;return n.onListen=ID.bind(null,e.syncEngine),n.onUnlisten=OD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ND.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GD(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Lv(r){if(!me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xv(r){if(me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function wo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eI;switch(s.type){case"firstParty":return new rI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=kv.get(n);s&&(ae("ComponentProvider","Removing Datastore"),kv.delete(n),s.terminate())}(this),Promise.resolve()}}function QD(r,e,n,s={}){var l;const u=(r=wo(r,yh))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Kt.MOCK_USER;else{m=Cb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(y)}r._authCredentials=new tI(new ZE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jr(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Gr extends Jr{constructor(e,n,s){super(e,n,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new me(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function tA(r,e,...n){if(r=nn(r),eA("collection","path",e),r instanceof yh){const s=Ze.fromString(e,...n);return xv(s),new Gr(r,null,s)}{if(!(r instanceof pn||r instanceof Gr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return xv(s),new Gr(r.firestore,null,s)}}function KD(r,e,...n){if(r=nn(r),arguments.length===1&&(e=JE.newId()),eA("doc","path",e),r instanceof yh){const s=Ze.fromString(e,...n);return Lv(s),new pn(r,null,new me(s))}{if(!(r instanceof pn||r instanceof Gr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return Lv(s),new pn(r.firestore,r instanceof Gr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new LT(this,"async_queue_retry"),this.fu=()=>{const s=Md();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Md();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Ls;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!rl(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Xi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const l=Km.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.Eu.push(l),l}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function Bv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Wc extends yh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new zv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function YD(r,e){const n=typeof r=="object"?r:fE(),s=typeof r=="string"?r:"(default)",l=_m(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Rb("firestore");u&&QD(l,...u)}return l}function nA(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$D(r),r._firestoreClient}function $D(r){var e,n,s;const l=r._freezeSettings(),u=function(m,p,y,E){return new vI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,JT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new HD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(Ht.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^__.*__$/;class WD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jo(e,this.data,n,this.fieldTransforms)}}function iA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class tp{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.xu({path:s,Nu:!1});return l.Bu(e),l}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.xu({path:s,Nu:!1});return l.Fu(),l}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(iA(this.Mu)&&XD.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ZD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||dh(e)}$u(e,n,s,l=!1){return new tp({Mu:e,methodName:n,Ku:s,path:qt.emptyPath(),Nu:!1,Qu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rA(r){const e=r._freezeSettings(),n=dh(r._databaseId);return new ZD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function JD(r,e,n,s,l,u={}){const f=r.$u(u.merge||u.mergeFields?2:0,e,n,l);lA("Data must be an object, but it was:",f,s);const m=sA(s,f);let p,y;if(u.merge)p=new Bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const D=t2(e,b,n);if(!f.contains(D))throw new oe(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);i2(E,D)||E.push(D)}p=new Bn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new WD(new Mn(m),p,y)}class np extends Zm{_toFieldTransform(e){return new FI(e.path,new Mo)}isEqual(e){return e instanceof np}}function e2(r,e,n,s=!1){return ip(n,r.$u(s?4:3,e))}function ip(r,e){if(aA(r=nn(r)))return lA("Unsupported field value:",e,r),sA(r,e);if(r instanceof Zm)return function(s,l){if(!iA(l.Mu))throw l.qu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let p=ip(m,l.ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,l){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Kc(l.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kc(l.serializer,u)}}if(s instanceof Jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xa)return{bytesValue:RT(l.serializer,s._byteString)};if(s instanceof pn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ep)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.qu("VectorValues must only contain numeric values.");return Lm(m.serializer,p)})}}}}}}(s,l);throw l.qu(`Unsupported field value: ${gh(s)}`)}(r,e)}function sA(r,e){const n={};return eT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,(s,l)=>{const u=ip(l,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function aA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Jm||r instanceof Xa||r instanceof pn||r instanceof Zm||r instanceof ep)}function lA(r,e,n){if(!aA(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=gh(n);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function t2(r,e,n){if((e=nn(e))instanceof Wm)return e._internalPath;if(typeof e=="string")return oA(r,e);throw Zc("Field path arguments must be of type string or ",r,!1,void 0,n)}const n2=new RegExp("[~\\*/\\[\\]]");function oA(r,e,n){if(e.search(n2)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wm(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Zc(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new oe(W.INVALID_ARGUMENT,m+r+p)}function i2(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r2 extends uA{data(){return super.data()}}function rp(r,e){return typeof e=="string"?oA(r,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class ap extends sp{}function a2(r,e,...n){let s=[];e instanceof sp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof op).length,m=u.filter(p=>p instanceof lp).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class lp extends ap{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lp(e,n,s)}_apply(e){const n=this._parse(e);return cA(e._query,n),new Jr(e.firestore,e.converter,Zd(e._query,n))}_parse(e){const n=rA(e.firestore);return function(u,f,m,p,y,E,b){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Hv(b,E);const M=[];for(const z of b)M.push(qv(p,u,z));D={arrayValue:{values:M}}}else D=qv(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Hv(b,E),D=e2(m,f,b,E==="in"||E==="not-in");return _t.create(y,E,D)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class op extends sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new op(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)cA(f,p),f=Zd(f,p)}(e._query,n),new Jr(e.firestore,e.converter,Zd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class up extends ap{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new up(e,n)}_apply(e){const n=function(l,u,f){if(l.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vo(u,f)}(e._query,this._field,this._direction);return new Jr(e.firestore,e.converter,function(l,u){const f=l.explicitOrderBy.concat([u]);return new sl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function l2(r,e="asc"){const n=e,s=rp("orderBy",r);return up._create(s,n)}class cp extends ap{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new cp(e,n,s)}_apply(e){return new Jr(e.firestore,e.converter,Gc(e._query,this._limit,this._limitType))}}function o2(r){return cp._create("limit",r,"F")}function qv(r,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uT(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!me.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return av(r,new me(s))}if(n instanceof pn)return av(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function Hv(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(r,e){const n=function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u2{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bs(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ht(f.doubleValue));return new ep(u)}convertGeoPoint(e){return new Jm(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(VT(s));const l=new Oo(s.get(1),s.get(3)),u=new me(s.popFirst(5));return l.isEqual(n)||Xi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hA extends uA{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mc extends hA{data(e={}){return super.data(e)}}class h2{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new vo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const p=new Mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new vo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new vo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:f2(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class fA extends u2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function d2(r,e){const n=wo(r.firestore,Wc),s=KD(r),l=c2(r.converter,e);return p2(n,[JD(rA(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ki.exists(!1))]).then(()=>s)}function m2(r,...e){var n,s,l;r=nn(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Bv(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Bv(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let p,y,E;if(r instanceof pn)y=wo(r.firestore,Wc),E=km(r._key.path),p={next:b=>{e[f]&&e[f](g2(y,r,b))},error:e[f+1],complete:e[f+2]};else{const b=wo(r,Jr);y=wo(b.firestore,Wc),E=b._query;const D=new fA(y);p={next:M=>{e[f]&&e[f](new h2(y,D,b,M))},error:e[f+1],complete:e[f+2]},s2(r._query)}return function(D,M,z,K){const H=new qD(K),Y=new AD(M,H,z);return D.asyncQueue.enqueueAndForget(async()=>_D(await Pv(D),Y)),()=>{H.eu(),D.asyncQueue.enqueueAndForget(async()=>vD(await Pv(D),Y))}}(nA(y),E,m,p)}function p2(r,e){return function(s,l){const u=new Ls;return s.asyncQueue.enqueueAndForget(async()=>VD(await FD(s),l,u)),u.promise}(nA(r),e)}function g2(r,e,n){const s=n.docs.get(e._key),l=new fA(r);return new hA(r,l,e._key,s,new vo(n.hasPendingWrites,n.fromCache),e.converter)}function y2(){return new np("serverTimestamp")}(function(e,n=!0){(function(l){nl=l})(el),Ha(new xs("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Wc(new nI(s.getProvider("auth-internal")),new aI(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jr(ev,"4.7.6",e),jr(ev,"4.7.6","esm2017")})();const _2={apiKey:"AIzaSyCAEPQ6FHxVZFlczWpO2hz7JgF2e-m29O8",authDomain:"instantchat-4e0ed.firebaseapp.com",projectId:"instantchat-4e0ed",storageBucket:"instantchat-4e0ed.firebasestorage.app",messagingSenderId:"796587537801",appId:"1:796587537801:web:ca745302df0847d45c5d58"},dA=hE(_2),kd=X1(dA),mA=YD(dA),pA=G.createContext(),v2=({children:r})=>{const[e,n]=G.useState(null),[s,l]=G.useState(!0),u=async()=>{try{const m=new qi,p=await s1(kd,m);n(p.user),console.log("User signed in:",p.user)}catch(m){console.error("Google Sign-In Error:",m)}},f=async()=>{try{await zR(kd),n(null),console.log("User signed out")}catch(m){console.error("Sign-Out Error:",m)}};return G.useEffect(()=>{const m=UR(kd,p=>{n(p),l(!1)});return()=>m()},[]),_e.createElement(pA.Provider,{value:{currentUser:e,signinWithGoogle:u,logout:f}},!s&&r," ")},Ko=()=>G.useContext(pA),E2=()=>{const{currentUser:r,logout:e}=Ko(),n=async()=>{try{await e()}catch(s){console.log(s)}};return _e.createElement("div",{className:"navbar fixed z-10 bg-base-200 text-primary-content"},_e.createElement("div",{className:"containerWrap navbar bg-base-200"},_e.createElement("div",{className:"flex-1"},_e.createElement("a",{className:"btn bg-base-200 text-xl"},"Instant-Chat")),_e.createElement("div",{className:"flex-none"},_e.createElement("ul",{className:"menu menu-horizontal px-1"},_e.createElement("li",null,r?_e.createElement("button",{className:"btn btn-outline btn-error",onClick:n},"Logout"):"")))))},T2=({message:r})=>{const{currentUser:e}=Ko();return console.log("Message Data:",r),_e.createElement("div",null,_e.createElement("div",{className:`chat ${r.uid===e.uid?"chat-end":"chat-start"}`},_e.createElement("div",{className:"chat-image avatar"},_e.createElement("div",{className:"w-10 rounded-full"},_e.createElement("img",{src:r.avatar}))),_e.createElement("div",{className:"chat-header"},r.name),_e.createElement("div",{className:"chat-bubble"},r.text)))},A2=()=>{const r=G.useRef(),[e,n]=G.useState([]),s=()=>{r.current.scrollIntoView({behavior:"smooth"})};return G.useEffect(s,[e]),G.useEffect(()=>{const l=a2(tA(mA,"messages"),l2("createdAt"),o2(50)),u=m2(l,f=>{const m=[];f.forEach(p=>{m.push({...p.data(),id:p.id})}),n(m)});return()=>u},[]),_e.createElement("div",{className:"pb-44 pt-32 containerWrap"},e.map(l=>_e.createElement(T2,{key:l.id,message:l})),_e.createElement("div",{ref:r}))},S2=()=>{const[r,e]=G.useState(""),{currentUser:n}=Ko(),s=async l=>{if(l.preventDefault(),r.trim()===""){alert("Enter valid message!");return}try{const{uid:u,displayName:f,photoURL:m}=n;await d2(tA(mA,"messages"),{text:r,name:f,avatar:m,createdAt:y2(),uid:u})}catch(u){console.log(u)}e("")};return _e.createElement("div",{className:"bg-base-100 fixed bottom-0 w-full py-10 shadow-lg"},_e.createElement("form",{onSubmit:s,className:"px-2 containerWrap flex"},_e.createElement("input",{value:r,onChange:l=>e(l.target.value),placeholder:"Type your message here...",className:"input w-full focus:outline-none bg-gray-300 rounded-r-none text-black",type:"text"}),_e.createElement("button",{type:"submit",className:"w-auto bg-primary text-white rounded-r-lg px-5 text-sm"},"Send")))},b2=()=>_e.createElement("div",null,_e.createElement(A2,null),_e.createElement(S2,null)),w2=()=>{const r=hm(),{currentUser:e,signinWithGoogle:n}=Ko();console.log(e);const s=async()=>{try{await n()}catch(l){console.log(l)}};return G.useEffect(()=>{e?r("/chat"):console.log("error")},[e,r]),_e.createElement("div",null,_e.createElement("div",{className:"hero bg-base-200 min-h-screen"},_e.createElement("div",{className:"hero-content text-center"},_e.createElement("div",{className:"max-w-md"},_e.createElement("h1",{className:"text-5xl font-bold"},"Hello there 👋"),_e.createElement("p",{className:"py-6"},"Join the conversation, meet new people, and make ",_e.createElement("br",null),"connections in one shared room."),_e.createElement("button",{onClick:s,className:"btn btn-primary"},"Login with Google")))))},R2=({children:r})=>{const{currentUser:e}=Ko();return e?r:_e.createElement(x0,{to:"/",replace:!0})};function I2(){return _e.createElement(v2,null,_e.createElement(E2,null),_e.createElement(z0,null,_e.createElement(xd,{path:"/",element:_e.createElement(w2,null)}),_e.createElement(xd,{path:"/chat",element:_e.createElement(R2,null,_e.createElement(b2,null))})))}YS.createRoot(document.getElementById("root")).render(_e.createElement(_e.StrictMode,null,_e.createElement(ub,null,_e.createElement(I2,null))));
